!function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=235)}([function(t,e,r){var n=r(49),o="object"==typeof self&&self&&self.Object===Object&&self,a=n||o||Function("return this")();t.exports=a},function(t,e){var r=Array.isArray;t.exports=r},function(t,e,r){"use strict";e.__esModule=!0,e.extend=s,e.indexOf=function(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1},e.escapeExpression=function(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}if(!a.test(t))return t;return t.replace(o,i)},e.isEmpty=function(t){return!t&&0!==t||!(!c(t)||0!==t.length)},e.createFrame=function(t){var e=s({},t);return e._parent=t,e},e.blockParams=function(t,e){return t.path=e,t},e.appendContextPath=function(t,e){return(t?t+".":"")+e};var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},o=/[&<>"'`=]/g,a=/[&<>"'`=]/;function i(t){return n[t]}function s(t){for(var e=1;e<arguments.length;e++)for(var r in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],r)&&(t[r]=arguments[e][r]);return t}var l=Object.prototype.toString;e.toString=l;var u=function(t){return"function"==typeof t};u(/x/)&&(e.isFunction=u=function(t){return"function"==typeof t&&"[object Function]"===l.call(t)}),e.isFunction=u;var c=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===l.call(t)};e.isArray=c},function(t,e,r){"use strict";t.exports=(t,e)=>{e=Object.assign({},e);const r=t=>{const r=e=>"string"==typeof e?t===e:e.test(t);return e.include?e.include.some(r):!e.exclude||!e.exclude.some(r)};for(const[e,n]of(t=>{const e=new Set;do{for(const r of Reflect.ownKeys(t))e.add([t,r])}while((t=Reflect.getPrototypeOf(t))&&t!==Object.prototype);return e})(t.constructor.prototype)){if("constructor"===n||!r(n))continue;const o=Reflect.getOwnPropertyDescriptor(e,n);o&&"function"==typeof o.value&&(t[n]=t[n].bind(t))}return t};const n=["componentWillMount","UNSAFE_componentWillMount","render","getSnapshotBeforeUpdate","componentDidMount","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","UNSAFE_componentWillUpdate","componentDidUpdate","componentWillUnmount","componentDidCatch","setState","forceUpdate"];t.exports.react=(e,r)=>((r=Object.assign({},r)).exclude=(r.exclude||[]).concat(n),t.exports(e,r))},function(t,e){t.exports=function(t,e,r,n){switch(e){case"==":return t==r?n.fn(this):n.inverse(this);case"===":return t===r?n.fn(this):n.inverse(this);case"!=":return t!=r?n.fn(this):n.inverse(this);case"!==":return t!==r?n.fn(this):n.inverse(this);case"<":return t<r?n.fn(this):n.inverse(this);case"<=":return t<=r?n.fn(this):n.inverse(this);case">":return t>r?n.fn(this):n.inverse(this);case">=":return t>=r?n.fn(this):n.inverse(this);case"&&":return t&&r?n.fn(this):n.inverse(this);case"||":return t||r?n.fn(this):n.inverse(this);default:return n.inverse(this)}}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,r){var n=r(127),o=r(130);t.exports=function(t,e){var r=o(t,e);return n(r)?r:void 0}},function(t,e){t.exports=function(t){let e=(t=t.replace(/ ?\(.*[rR]emaster.*\)/,"")).split(" - ");return e.length>2&&e[e.length-1].toLowerCase().includes("remaster")&&parseInt(e[e.length-2].toLowerCase())?e.slice(0,e.length-2).join(" - "):e.length>1&&e[e.length-1].toLowerCase().includes("remaster")?e.slice(0,e.length-1).join(" - "):t.toLowerCase().includes("(remaster)")?t.replace("(Remaster)","").replace("(remaster)",""):t}},function(t,e,r){"use strict";e.__esModule=!0;var n=["description","fileName","lineNumber","message","name","number","stack"];function o(t,e){var r=e&&e.loc,a=void 0,i=void 0;r&&(t+=" - "+(a=r.start.line)+":"+(i=r.start.column));for(var s=Error.prototype.constructor.call(this,t),l=0;l<n.length;l++)this[n[l]]=s[n[l]];Error.captureStackTrace&&Error.captureStackTrace(this,o);try{r&&(this.lineNumber=a,Object.defineProperty?Object.defineProperty(this,"column",{value:i,enumerable:!0}):this.column=i)}catch(t){}}o.prototype=new Error,e.default=o,t.exports=e.default},function(t,e,r){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var r=function(t,e){var r=t[1]||"",n=t[3];if(!n)return r;if(e&&"function"==typeof btoa){var o=(i=n,s=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(l," */")),a=n.sources.map((function(t){return"/*# sourceURL=".concat(n.sourceRoot).concat(t," */")}));return[r].concat(a).concat([o]).join("\n")}var i,s,l;return[r].join("\n")}(e,t);return e[2]?"@media ".concat(e[2],"{").concat(r,"}"):r})).join("")},e.i=function(t,r){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},o=0;o<this.length;o++){var a=this[o][0];null!=a&&(n[a]=!0)}for(var i=0;i<t.length;i++){var s=t[i];null!=s[0]&&n[s[0]]||(r&&!s[2]?s[2]=r:r&&(s[2]="(".concat(s[2],") and (").concat(r,")")),e.push(s))}},e}},function(t,e,r){"use strict";var n,o={},a=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},i=function(){var t={};return function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}t[e]=r}return t[e]}}();function s(t,e){for(var r=[],n={},o=0;o<t.length;o++){var a=t[o],i=e.base?a[0]+e.base:a[0],s={css:a[1],media:a[2],sourceMap:a[3]};n[i]?n[i].parts.push(s):r.push(n[i]={id:i,parts:[s]})}return r}function l(t,e){for(var r=0;r<t.length;r++){var n=t[r],a=o[n.id],i=0;if(a){for(a.refs++;i<a.parts.length;i++)a.parts[i](n.parts[i]);for(;i<n.parts.length;i++)a.parts.push(m(n.parts[i],e))}else{for(var s=[];i<n.parts.length;i++)s.push(m(n.parts[i],e));o[n.id]={id:n.id,refs:1,parts:s}}}}function u(t){var e=document.createElement("style");if(void 0===t.attributes.nonce){var n=r.nc;n&&(t.attributes.nonce=n)}if(Object.keys(t.attributes).forEach((function(r){e.setAttribute(r,t.attributes[r])})),"function"==typeof t.insert)t.insert(e);else{var o=i(t.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(e)}return e}var c,p=(c=[],function(t,e){return c[t]=e,c.filter(Boolean).join("\n")});function f(t,e,r,n){var o=r?"":n.css;if(t.styleSheet)t.styleSheet.cssText=p(e,o);else{var a=document.createTextNode(o),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(a,i[e]):t.appendChild(a)}}function h(t,e,r){var n=r.css,o=r.media,a=r.sourceMap;if(o&&t.setAttribute("media",o),a&&btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var d=null,v=0;function m(t,e){var r,n,o;if(e.singleton){var a=v++;r=d||(d=u(e)),n=f.bind(null,r,a,!1),o=f.bind(null,r,a,!0)}else r=u(e),n=h.bind(null,r,e),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(r)};return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else o()}}t.exports=function(t,e){(e=e||{}).attributes="object"==typeof e.attributes?e.attributes:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=a());var r=s(t,e);return l(r,e),function(t){for(var n=[],a=0;a<r.length;a++){var i=r[a],u=o[i.id];u&&(u.refs--,n.push(u))}t&&l(s(t,e),e);for(var c=0;c<n.length;c++){var p=n[c];if(0===p.refs){for(var f=0;f<p.parts.length;f++)p.parts[f]();delete o[p.id]}}}}},function(t,e,r){var n=r(47),o=r(111),a=r(19);t.exports=function(t){return a(t)?n(t):o(t)}},function(t,e,r){var n=r(14),o=r(107),a=r(108),i="[object Null]",s="[object Undefined]",l=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?s:i:l&&l in Object(t)?o(t):a(t)}},function(t,e,r){var n=r(0).Symbol;t.exports=n},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,r){t.exports=r(79).default},function(t,e,r){"use strict";function n(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return null===e?null:[e[1],e[2],e[3]].map((function(t){return parseInt(t,16)}))}function o(t,e,r){return e/=255,r/=255,t=(t/=255)>.04045?Math.pow((t+.005)/1.055,2.4):t/12.92,e=e>.04045?Math.pow((e+.005)/1.055,2.4):e/12.92,r=r>.04045?Math.pow((r+.005)/1.055,2.4):r/12.92,[.4124*(t*=100)+.3576*(e*=100)+.1805*(r*=100),.2126*t+.7152*e+.0722*r,.0193*t+.1192*e+.9505*r]}function a(t,e,r){return e/=100,r/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(e=e>.008856?Math.pow(e,1/3):7.787*e+16/116)-16,500*(t-e),200*(e-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]}function i(t,e,r){var n=o(t,e,r);return a(n[0],n[1],n[2])}function s(t,e){var r=t[0],n=t[1],o=t[2],a=e[0],i=e[1],s=e[2],l=r-a,u=n-i,c=o-s,p=Math.sqrt(n*n+o*o),f=a-r,h=Math.sqrt(i*i+s*s)-p,d=Math.sqrt(l*l+u*u+c*c),v=Math.sqrt(d)>Math.sqrt(Math.abs(f))+Math.sqrt(Math.abs(h))?Math.sqrt(d*d-f*f-h*h):0;return f/=1,h/=1*(1+.045*p),v/=1*(1+.015*p),Math.sqrt(f*f+h*h+v*v)}function l(t,e){return s(i.apply(void 0,t),i.apply(void 0,e))}Object.defineProperty(e,"__esModule",{value:!0}),e.DELTAE94_DIFF_STATUS={NA:0,PERFECT:1,CLOSE:2,GOOD:10,SIMILAR:50},e.SIGBITS=5,e.RSHIFT=8-e.SIGBITS,e.defer=function(){var t,e,r=new Promise((function(r,n){t=r,e=n}));return{resolve:t,reject:e,promise:r}},e.hexToRgb=n,e.rgbToHex=function(t,e,r){return"#"+((1<<24)+(t<<16)+(e<<8)+r).toString(16).slice(1,7)},e.rgbToHsl=function(t,e,r){t/=255,e/=255,r/=255;var n,o,a=Math.max(t,e,r),i=Math.min(t,e,r),s=(a+i)/2;if(a===i)n=o=0;else{var l=a-i;switch(o=s>.5?l/(2-a-i):l/(a+i),a){case t:n=(e-r)/l+(e<r?6:0);break;case e:n=(r-t)/l+2;break;case r:n=(t-e)/l+4}n/=6}return[n,o,s]},e.hslToRgb=function(t,e,r){var n,o,a;function i(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}if(0===e)n=o=a=r;else{var s=r<.5?r*(1+e):r+e-r*e,l=2*r-s;n=i(l,s,t+1/3),o=i(l,s,t),a=i(l,s,t-1/3)}return[255*n,255*o,255*a]},e.rgbToXyz=o,e.xyzToCIELab=a,e.rgbToCIELab=i,e.deltaE94=s,e.rgbDiff=l,e.hexDiff=function(t,e){return l(n(t),n(e))},e.getColorDiffStatus=function(t){return t<e.DELTAE94_DIFF_STATUS.NA?"N/A":t<=e.DELTAE94_DIFF_STATUS.PERFECT?"Perfect":t<=e.DELTAE94_DIFF_STATUS.CLOSE?"Close":t<=e.DELTAE94_DIFF_STATUS.GOOD?"Good":t<e.DELTAE94_DIFF_STATUS.SIMILAR?"Similar":"Wrong"},e.getColorIndex=function(t,r,n){return(t<<2*e.SIGBITS)+(r<<e.SIGBITS)+n}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){var n=r(52),o=r(31);t.exports=function(t){return null!=t&&o(t.length)&&!n(t)}},function(t,e,r){var n=r(117),o=r(118),a=r(119),i=r(120),s=r(121);function l(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=i,l.prototype.set=s,t.exports=l},function(t,e,r){var n=r(15);t.exports=function(t,e){for(var r=t.length;r--;)if(n(t[r][0],e))return r;return-1}},function(t,e,r){var n=r(7)(Object,"create");t.exports=n},function(t,e,r){var n=r(139);t.exports=function(t,e){var r=t.__data__;return n(e)?r["string"==typeof e?"string":"hash"]:r.map}},function(t,e,r){var n=r(153),o=r(36),a=r(154),i=r(155),s=r(156),l=r(13),u=r(53),c=u(n),p=u(o),f=u(a),h=u(i),d=u(s),v=l;(n&&"[object DataView]"!=v(new n(new ArrayBuffer(1)))||o&&"[object Map]"!=v(new o)||a&&"[object Promise]"!=v(a.resolve())||i&&"[object Set]"!=v(new i)||s&&"[object WeakMap]"!=v(new s))&&(v=function(t){var e=l(t),r="[object Object]"==e?t.constructor:void 0,n=r?u(r):"";if(n)switch(n){case c:return"[object DataView]";case p:return"[object Map]";case f:return"[object Promise]";case h:return"[object Set]";case d:return"[object WeakMap]"}return e}),t.exports=v},function(t,e,r){var n=r(40),o=1/0;t.exports=function(t){if("string"==typeof t||n(t))return t;var e=t+"";return"0"==e&&1/t==-o?"-0":e}},function(t,e,r){var n=r(65),o=r(66);t.exports=function(t,e,r,a){var i=!r;r||(r={});for(var s=-1,l=e.length;++s<l;){var u=e[s],c=a?a(r[u],t[u],u,r,t):void 0;void 0===c&&(c=t[u]),i?o(r,u,c):n(r,u,c)}return r}},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(17),o=r(99),a=function(){function t(t,e){this._rgb=t,this._population=e}return t.applyFilter=function(t,e){return"function"==typeof e?o(t,(function(t){var r=t.r,n=t.g,o=t.b;return e(r,n,o,255)})):t},Object.defineProperty(t.prototype,"r",{get:function(){return this._rgb[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"g",{get:function(){return this._rgb[1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"b",{get:function(){return this._rgb[2]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rgb",{get:function(){return this._rgb},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hsl",{get:function(){if(!this._hsl){var t=this._rgb,e=t[0],r=t[1],o=t[2];this._hsl=n.rgbToHsl(e,r,o)}return this._hsl},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hex",{get:function(){if(!this._hex){var t=this._rgb,e=t[0],r=t[1],o=t[2];this._hex=n.rgbToHex(e,r,o)}return this._hex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"population",{get:function(){return this._population},enumerable:!0,configurable:!0}),t.prototype.toJSON=function(){return{rgb:this.rgb,population:this.population}},t.prototype.getRgb=function(){return this._rgb},t.prototype.getHsl=function(){return this.hsl},t.prototype.getPopulation=function(){return this._population},t.prototype.getHex=function(){return this.hex},t.prototype.getYiq=function(){if(!this._yiq){var t=this._rgb;this._yiq=(299*t[0]+587*t[1]+114*t[2])/1e3}return this._yiq},Object.defineProperty(t.prototype,"titleTextColor",{get:function(){return this._titleTextColor||(this._titleTextColor=this.getYiq()<200?"#fff":"#000"),this._titleTextColor},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bodyTextColor",{get:function(){return this._bodyTextColor||(this._bodyTextColor=this.getYiq()<150?"#fff":"#000"),this._bodyTextColor},enumerable:!0,configurable:!0}),t.prototype.getTitleTextColor=function(){return this.titleTextColor},t.prototype.getBodyTextColor=function(){return this.bodyTextColor},t}();e.Swatch=a},function(t,e,r){(function(t){var n=r(0),o=r(109),a=e&&!e.nodeType&&e,i=a&&"object"==typeof t&&t&&!t.nodeType&&t,s=i&&i.exports===a?n.Buffer:void 0,l=(s?s.isBuffer:void 0)||o;t.exports=l}).call(this,r(18)(t))},function(t,e){var r=9007199254740991,n=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var o=typeof t;return!!(e=null==e?r:e)&&("number"==o||"symbol"!=o&&n.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e){var r=9007199254740991;t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,r){(function(t){var n=r(49),o=e&&!e.nodeType&&e,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,i=a&&a.exports===o&&n.process,s=function(){try{var t=a&&a.require&&a.require("util").types;return t||i&&i.binding&&i.binding("util")}catch(t){}}();t.exports=s}).call(this,r(18)(t))},function(t,e){var r=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||r)}},function(t,e,r){var n=r(20),o=r(122),a=r(123),i=r(124),s=r(125),l=r(126);function u(t){var e=this.__data__=new n(t);this.size=e.size}u.prototype.clear=o,u.prototype.delete=a,u.prototype.get=i,u.prototype.has=s,u.prototype.set=l,t.exports=u},function(t,e,r){var n=r(7)(r(0),"Map");t.exports=n},function(t,e,r){var n=r(131),o=r(138),a=r(140),i=r(141),s=r(142);function l(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=i,l.prototype.set=s,t.exports=l},function(t,e,r){var n=r(46),o=r(60),a=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(t){return null==t?[]:(t=Object(t),n(i(t),(function(e){return a.call(t,e)})))}:o;t.exports=s},function(t,e,r){var n=r(1),o=r(40),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;t.exports=function(t,e){if(n(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!o(t))||(i.test(t)||!a.test(t)||null!=e&&t in Object(e))}},function(t,e,r){var n=r(13),o=r(5),a="[object Symbol]";t.exports=function(t){return"symbol"==typeof t||o(t)&&n(t)==a}},function(t,e){t.exports=function(t){return t}},function(t,e,r){var n=r(47),o=r(178),a=r(19);t.exports=function(t){return a(t)?n(t,!0):o(t)}},function(t,e,r){var n=r(56);t.exports=function(t){var e=new t.constructor(t.byteLength);return new n(e).set(new n(t)),e}},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.HandlebarsEnvironment=u;var o=r(2),a=n(r(9)),i=r(80),s=r(88),l=n(r(90));e.VERSION="4.2.1";e.COMPILER_REVISION=7;e.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};function u(t,e,r){this.helpers=t||{},this.partials=e||{},this.decorators=r||{},i.registerDefaultHelpers(this),s.registerDefaultDecorators(this)}u.prototype={constructor:u,logger:l.default,log:l.default.log,registerHelper:function(t,e){if("[object Object]"===o.toString.call(t)){if(e)throw new a.default("Arg not supported with multiple helpers");o.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if("[object Object]"===o.toString.call(t))o.extend(this.partials,t);else{if(void 0===e)throw new a.default('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,e){if("[object Object]"===o.toString.call(t)){if(e)throw new a.default("Arg not supported with multiple decorators");o.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function(t){delete this.decorators[t]}};var c=l.default.log;e.log=c,e.createFrame=o.createFrame,e.logger=l.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(28),o=r(172),a=r(17),i=r(197),s=r(201),l=r(211),u=r(70),c=function(){function t(e,r){this._src=e,this.opts=u({},r,t.DefaultOpts),this.opts.combinedFilter=l.combineFilters(this.opts.filters)}return t.from=function(t){return new o.default(t)},t.prototype._process=function(t,e){var r=e.quantizer,o=e.generator;return t.scaleDown(e),t.applyFilter(e.combinedFilter).then((function(t){return r(t.data,e)})).then((function(t){return n.Swatch.applyFilter(t,e.combinedFilter)})).then((function(t){return Promise.resolve(o(t))}))},t.prototype.palette=function(){return this.swatches()},t.prototype.swatches=function(){return this._palette},t.prototype.getPalette=function(t){var e=this,r=new this.opts.ImageClass,n=r.load(this._src).then((function(t){return e._process(t,e.opts)})).then((function(t){return e._palette=t,r.remove(),t}),(function(t){throw r.remove(),t}));return t&&n.then((function(e){return t(null,e)}),(function(e){return t(e)})),n},t.Builder=o.default,t.Quantizer=i,t.Generator=s,t.Filter=l,t.Util=a,t.DefaultOpts={colorCount:64,quality:5,generator:s.Default,ImageClass:null,quantizer:i.MMCQ,filters:[l.Default]},t}();e.default=c},function(t,e){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,a=[];++r<n;){var i=t[r];e(i,r,t)&&(a[o++]=i)}return a}},function(t,e,r){var n=r(105),o=r(48),a=r(1),i=r(29),s=r(30),l=r(50),u=Object.prototype.hasOwnProperty;t.exports=function(t,e){var r=a(t),c=!r&&o(t),p=!r&&!c&&i(t),f=!r&&!c&&!p&&l(t),h=r||c||p||f,d=h?n(t.length,String):[],v=d.length;for(var m in t)!e&&!u.call(t,m)||h&&("length"==m||p&&("offset"==m||"parent"==m)||f&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,v))||d.push(m);return d}},function(t,e,r){var n=r(106),o=r(5),a=Object.prototype,i=a.hasOwnProperty,s=a.propertyIsEnumerable,l=n(function(){return arguments}())?n:function(t){return o(t)&&i.call(t,"callee")&&!s.call(t,"callee")};t.exports=l},function(t,e,r){(function(e){var r="object"==typeof e&&e&&e.Object===Object&&e;t.exports=r}).call(this,r(27))},function(t,e,r){var n=r(110),o=r(32),a=r(33),i=a&&a.isTypedArray,s=i?o(i):n;t.exports=s},function(t,e){t.exports=function(t,e){return function(r){return t(e(r))}}},function(t,e,r){var n=r(13),o=r(6),a="[object AsyncFunction]",i="[object Function]",s="[object GeneratorFunction]",l="[object Proxy]";t.exports=function(t){if(!o(t))return!1;var e=n(t);return e==i||e==s||e==a||e==l}},function(t,e){var r=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return r.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,r){var n=r(143),o=r(5);t.exports=function t(e,r,a,i,s){return e===r||(null==e||null==r||!o(e)&&!o(r)?e!=e&&r!=r:n(e,r,a,i,t,s))}},function(t,e,r){var n=r(144),o=r(147),a=r(148),i=1,s=2;t.exports=function(t,e,r,l,u,c){var p=r&i,f=t.length,h=e.length;if(f!=h&&!(p&&h>f))return!1;var d=c.get(t);if(d&&c.get(e))return d==e;var v=-1,m=!0,y=r&s?new n:void 0;for(c.set(t,e),c.set(e,t);++v<f;){var g=t[v],b=e[v];if(l)var x=p?l(b,g,v,e,t,c):l(g,b,v,t,e,c);if(void 0!==x){if(x)continue;m=!1;break}if(y){if(!o(e,(function(t,e){if(!a(y,e)&&(g===t||u(g,t,r,l,c)))return y.push(e)}))){m=!1;break}}else if(g!==b&&!u(g,b,r,l,c)){m=!1;break}}return c.delete(t),c.delete(e),m}},function(t,e,r){var n=r(0).Uint8Array;t.exports=n},function(t,e,r){var n=r(58),o=r(38),a=r(12);t.exports=function(t){return n(t,a,o)}},function(t,e,r){var n=r(59),o=r(1);t.exports=function(t,e,r){var a=e(t);return o(t)?a:n(a,r(t))}},function(t,e){t.exports=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}},function(t,e){t.exports=function(){return[]}},function(t,e,r){var n=r(6);t.exports=function(t){return t==t&&!n(t)}},function(t,e){t.exports=function(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}},function(t,e,r){var n=r(64),o=r(25);t.exports=function(t,e){for(var r=0,a=(e=n(e,t)).length;null!=t&&r<a;)t=t[o(e[r++])];return r&&r==a?t:void 0}},function(t,e,r){var n=r(1),o=r(39),a=r(160),i=r(163);t.exports=function(t,e){return n(t)?t:o(t,e)?[t]:a(i(t))}},function(t,e,r){var n=r(66),o=r(15),a=Object.prototype.hasOwnProperty;t.exports=function(t,e,r){var i=t[e];a.call(t,e)&&o(i,r)&&(void 0!==r||e in t)||n(t,e,r)}},function(t,e,r){var n=r(67);t.exports=function(t,e,r){"__proto__"==e&&n?n(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}},function(t,e,r){var n=r(7),o=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},function(t,e,r){var n=r(59),o=r(69),a=r(38),i=r(60),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)n(e,a(t)),t=o(t);return e}:i;t.exports=s},function(t,e,r){var n=r(51)(Object.getPrototypeOf,Object);t.exports=n},function(t,e,r){var n=r(203),o=r(15),a=r(210),i=r(42),s=Object.prototype,l=s.hasOwnProperty,u=n((function(t,e){t=Object(t);var r=-1,n=e.length,u=n>2?e[2]:void 0;for(u&&a(e[0],e[1],u)&&(n=1);++r<n;)for(var c=e[r],p=i(c),f=-1,h=p.length;++f<h;){var d=p[f],v=t[d];(void 0===v||o(v,s[d])&&!l.call(t,d))&&(t[d]=c[d])}return t}));t.exports=u},function(t,e){t.exports=function(t,e){var r=Math.floor(t/6e4),n=(t%6e4/1e3).toFixed(0);return r.toString().padStart(2,"0")+":"+n.toString().padStart(2,"0")}},function(t,e,r){"use strict";var n,o,a,i,s,l,u,c,p=(n="https://api.spotify.com/v1",o=null,a=null,i=function(t,e){return t.abort=e,t},s=function(){var t=Array.prototype.slice.call(arguments),e=t[0],r=t.slice(1);return e=e||{},r.forEach((function(t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})),e},l=function(t,e){var r=new XMLHttpRequest,n=function(n,a){var i=t.type||"GET";if(r.open(i,function(t,e){var r="";for(var n in e)if(e.hasOwnProperty(n)){var o=e[n];r+=encodeURIComponent(n)+"="+encodeURIComponent(o)+"&"}return r.length>0&&(t=t+"?"+(r=r.substring(0,r.length-1))),t}(t.url,t.params)),o&&r.setRequestHeader("Authorization","Bearer "+o),t.contentType&&r.setRequestHeader("Content-Type",t.contentType),r.onreadystatechange=function(){if(4===r.readyState){var t=null;try{t=r.responseText?JSON.parse(r.responseText):""}catch(t){console.error(t)}r.status>=200&&r.status<300?function(t){n&&n(t),e&&e(null,t)}(t):(a&&a(r),e&&e(r,null))}},"GET"===i)r.send(null);else{var s=null;t.postData&&(s="image/jpeg"===t.contentType?t.postData:JSON.stringify(t.postData)),r.send(s)}};return e?(n(),null):function(t,e){var r;if(null!==a){var n=a.defer();t((function(t){n.resolve(t)}),(function(t){n.reject(t)})),r=n.promise}else window.Promise&&(r=new window.Promise(t));return r?new i(r,e):null}(n,(function(){r.abort()}))},u=function(t,e,r,n){var o={},a=null;return"object"==typeof e?(o=e,a=r):"function"==typeof e&&(a=e),"GET"!==(t.type||"GET")&&t.postData&&!n?t.postData=s(t.postData,o):t.params=s(t.params,o),l(t,a)},((c=function(){}).prototype={constructor:p}).getGeneric=function(t,e){return u({url:t},e)},c.prototype.getMe=function(t,e){return u({url:n+"/me"},t,e)},c.prototype.getMySavedTracks=function(t,e){return u({url:n+"/me/tracks"},t,e)},c.prototype.addToMySavedTracks=function(t,e,r){return u({url:n+"/me/tracks",type:"PUT",postData:t},e,r)},c.prototype.removeFromMySavedTracks=function(t,e,r){return u({url:n+"/me/tracks",type:"DELETE",postData:t},e,r)},c.prototype.containsMySavedTracks=function(t,e,r){var o={url:n+"/me/tracks/contains",params:{ids:t.join(",")}};return u(o,e,r)},c.prototype.getMySavedAlbums=function(t,e){return u({url:n+"/me/albums"},t,e)},c.prototype.addToMySavedAlbums=function(t,e,r){return u({url:n+"/me/albums",type:"PUT",postData:t},e,r)},c.prototype.removeFromMySavedAlbums=function(t,e,r){return u({url:n+"/me/albums",type:"DELETE",postData:t},e,r)},c.prototype.containsMySavedAlbums=function(t,e,r){var o={url:n+"/me/albums/contains",params:{ids:t.join(",")}};return u(o,e,r)},c.prototype.getMyTopArtists=function(t,e){return u({url:n+"/me/top/artists"},t,e)},c.prototype.getMyTopTracks=function(t,e){return u({url:n+"/me/top/tracks"},t,e)},c.prototype.getMyRecentlyPlayedTracks=function(t,e){return u({url:n+"/me/player/recently-played"},t,e)},c.prototype.followUsers=function(t,e){var r={url:n+"/me/following/",type:"PUT",params:{ids:t.join(","),type:"user"}};return u(r,e)},c.prototype.followArtists=function(t,e){var r={url:n+"/me/following/",type:"PUT",params:{ids:t.join(","),type:"artist"}};return u(r,e)},c.prototype.followPlaylist=function(t,e,r){return u({url:n+"/playlists/"+t+"/followers",type:"PUT",postData:{}},e,r)},c.prototype.unfollowUsers=function(t,e){var r={url:n+"/me/following/",type:"DELETE",params:{ids:t.join(","),type:"user"}};return u(r,e)},c.prototype.unfollowArtists=function(t,e){var r={url:n+"/me/following/",type:"DELETE",params:{ids:t.join(","),type:"artist"}};return u(r,e)},c.prototype.unfollowPlaylist=function(t,e){return u({url:n+"/playlists/"+t+"/followers",type:"DELETE"},e)},c.prototype.isFollowingUsers=function(t,e){var r={url:n+"/me/following/contains",type:"GET",params:{ids:t.join(","),type:"user"}};return u(r,e)},c.prototype.isFollowingArtists=function(t,e){var r={url:n+"/me/following/contains",type:"GET",params:{ids:t.join(","),type:"artist"}};return u(r,e)},c.prototype.areFollowingPlaylist=function(t,e,r){var o={url:n+"/playlists/"+t+"/followers/contains",type:"GET",params:{ids:e.join(",")}};return u(o,r)},c.prototype.getFollowedArtists=function(t,e){return u({url:n+"/me/following",type:"GET",params:{type:"artist"}},t,e)},c.prototype.getUser=function(t,e,r){var o={url:n+"/users/"+encodeURIComponent(t)};return u(o,e,r)},c.prototype.getUserPlaylists=function(t,e,r){var o;return"string"==typeof t?o={url:n+"/users/"+encodeURIComponent(t)+"/playlists"}:(o={url:n+"/me/playlists"},r=e,e=t),u(o,e,r)},c.prototype.getPlaylist=function(t,e,r){return u({url:n+"/playlists/"+t},e,r)},c.prototype.getPlaylistTracks=function(t,e,r){return u({url:n+"/playlists/"+t+"/tracks"},e,r)},c.prototype.createPlaylist=function(t,e,r){var o={url:n+"/users/"+encodeURIComponent(t)+"/playlists",type:"POST",postData:e};return u(o,e,r)},c.prototype.changePlaylistDetails=function(t,e,r){return u({url:n+"/playlists/"+t,type:"PUT",postData:e},e,r)},c.prototype.addTracksToPlaylist=function(t,e,r,o){return u({url:n+"/playlists/"+t+"/tracks",type:"POST",postData:{uris:e}},r,o,!0)},c.prototype.replaceTracksInPlaylist=function(t,e,r){return u({url:n+"/playlists/"+t+"/tracks",type:"PUT",postData:{uris:e}},{},r)},c.prototype.reorderTracksInPlaylist=function(t,e,r,o,a){return u({url:n+"/playlists/"+t+"/tracks",type:"PUT",postData:{range_start:e,insert_before:r}},o,a)},c.prototype.removeTracksFromPlaylist=function(t,e,r){var o=e.map((function(t){return"string"==typeof t?{uri:t}:t}));return u({url:n+"/playlists/"+t+"/tracks",type:"DELETE",postData:{tracks:o}},{},r)},c.prototype.removeTracksFromPlaylistWithSnapshotId=function(t,e,r,o){var a=e.map((function(t){return"string"==typeof t?{uri:t}:t}));return u({url:n+"/playlists/"+t+"/tracks",type:"DELETE",postData:{tracks:a,snapshot_id:r}},{},o)},c.prototype.removeTracksFromPlaylistInPositions=function(t,e,r,o){return u({url:n+"/playlists/"+t+"/tracks",type:"DELETE",postData:{positions:e,snapshot_id:r}},{},o)},c.prototype.uploadCustomPlaylistCoverImage=function(t,e,r){var o={url:n+"/playlists/"+t+"/images",type:"PUT",postData:e.replace(/^data:image\/jpeg;base64,/,""),contentType:"image/jpeg"};return u(o,{},r)},c.prototype.getAlbum=function(t,e,r){return u({url:n+"/albums/"+t},e,r)},c.prototype.getAlbumTracks=function(t,e,r){return u({url:n+"/albums/"+t+"/tracks"},e,r)},c.prototype.getAlbums=function(t,e,r){var o={url:n+"/albums/",params:{ids:t.join(",")}};return u(o,e,r)},c.prototype.getTrack=function(t,e,r){var o={};return o.url=n+"/tracks/"+t,u(o,e,r)},c.prototype.getTracks=function(t,e,r){var o={url:n+"/tracks/",params:{ids:t.join(",")}};return u(o,e,r)},c.prototype.getArtist=function(t,e,r){return u({url:n+"/artists/"+t},e,r)},c.prototype.getArtists=function(t,e,r){var o={url:n+"/artists/",params:{ids:t.join(",")}};return u(o,e,r)},c.prototype.getArtistAlbums=function(t,e,r){return u({url:n+"/artists/"+t+"/albums"},e,r)},c.prototype.getArtistTopTracks=function(t,e,r,o){return u({url:n+"/artists/"+t+"/top-tracks",params:{country:e}},r,o)},c.prototype.getArtistRelatedArtists=function(t,e,r){return u({url:n+"/artists/"+t+"/related-artists"},e,r)},c.prototype.getFeaturedPlaylists=function(t,e){return u({url:n+"/browse/featured-playlists"},t,e)},c.prototype.getNewReleases=function(t,e){return u({url:n+"/browse/new-releases"},t,e)},c.prototype.getCategories=function(t,e){return u({url:n+"/browse/categories"},t,e)},c.prototype.getCategory=function(t,e,r){return u({url:n+"/browse/categories/"+t},e,r)},c.prototype.getCategoryPlaylists=function(t,e,r){return u({url:n+"/browse/categories/"+t+"/playlists"},e,r)},c.prototype.search=function(t,e,r,o){var a={url:n+"/search/",params:{q:t,type:e.join(",")}};return u(a,r,o)},c.prototype.searchAlbums=function(t,e,r){return this.search(t,["album"],e,r)},c.prototype.searchArtists=function(t,e,r){return this.search(t,["artist"],e,r)},c.prototype.searchTracks=function(t,e,r){return this.search(t,["track"],e,r)},c.prototype.searchPlaylists=function(t,e,r){return this.search(t,["playlist"],e,r)},c.prototype.getAudioFeaturesForTrack=function(t,e){var r={};return r.url=n+"/audio-features/"+t,u(r,{},e)},c.prototype.getAudioFeaturesForTracks=function(t,e){return u({url:n+"/audio-features",params:{ids:t}},{},e)},c.prototype.getAudioAnalysisForTrack=function(t,e){var r={};return r.url=n+"/audio-analysis/"+t,u(r,{},e)},c.prototype.getRecommendations=function(t,e){return u({url:n+"/recommendations"},t,e)},c.prototype.getAvailableGenreSeeds=function(t){return u({url:n+"/recommendations/available-genre-seeds"},{},t)},c.prototype.getMyDevices=function(t){return u({url:n+"/me/player/devices"},{},t)},c.prototype.getMyCurrentPlaybackState=function(t,e){return u({url:n+"/me/player"},t,e)},c.prototype.getMyCurrentPlayingTrack=function(t,e){return u({url:n+"/me/player/currently-playing"},t,e)},c.prototype.transferMyPlayback=function(t,e,r){var o=e||{};return o.device_ids=t,u({type:"PUT",url:n+"/me/player",postData:o},e,r)},c.prototype.play=function(t,e){var r="device_id"in(t=t||{})?{device_id:t.device_id}:null,o={};return["context_uri","uris","offset","position_ms"].forEach((function(e){e in t&&(o[e]=t[e])})),u({type:"PUT",url:n+"/me/player/play",params:r,postData:o},"function"==typeof t?t:{},e)},c.prototype.pause=function(t,e){var r="device_id"in(t=t||{})?{device_id:t.device_id}:null;return u({type:"PUT",url:n+"/me/player/pause",params:r},t,e)},c.prototype.skipToNext=function(t,e){var r="device_id"in(t=t||{})?{device_id:t.device_id}:null;return u({type:"POST",url:n+"/me/player/next",params:r},t,e)},c.prototype.skipToPrevious=function(t,e){var r="device_id"in(t=t||{})?{device_id:t.device_id}:null;return u({type:"POST",url:n+"/me/player/previous",params:r},t,e)},c.prototype.seek=function(t,e,r){var o={position_ms:t};return"device_id"in(e=e||{})&&(o.device_id=e.device_id),u({type:"PUT",url:n+"/me/player/seek",params:o},e,r)},c.prototype.setRepeat=function(t,e,r){var o={state:t};return"device_id"in(e=e||{})&&(o.device_id=e.device_id),u({type:"PUT",url:n+"/me/player/repeat",params:o},e,r)},c.prototype.setVolume=function(t,e,r){var o={volume_percent:t};return"device_id"in(e=e||{})&&(o.device_id=e.device_id),u({type:"PUT",url:n+"/me/player/volume",params:o},e,r)},c.prototype.setShuffle=function(t,e,r){var o={state:t};return"device_id"in(e=e||{})&&(o.device_id=e.device_id),u({type:"PUT",url:n+"/me/player/shuffle",params:o},e,r)},c.prototype.getAccessToken=function(){return o},c.prototype.setAccessToken=function(t){o=t},c.prototype.setPromiseImplementation=function(t){var e=!1;try{var r=new t((function(t){t()}));"function"==typeof r.then&&"function"==typeof r.catch&&(e=!0)}catch(t){console.error(t)}if(!e)throw new Error("Unsupported implementation of Promises/A+");a=t},c);"object"==typeof t.exports&&(t.exports=p)},function(t,e,r){var n=r(16);function o(t){return t&&(t.__esModule?t.default:t)}t.exports=(n.default||n).template({1:function(t,e,r,n,o){var a;return'<li class="album"><img src='+t.escapeExpression(t.lambda(null!=(a=null!=(a=null!=e?e.images:e)?a[0]:a)?a.url:a,e))+"></li>"},3:function(t,e,r,n,o){return"active"},compiler:[7,">= 4.0.0"],main:function(t,e,n,a,i){var s,l=null!=e?e:t.nullContext||{};return'<ul class="albums">\n  '+(null!=(s=n.each.call(l,null!=e?e.albums:e,{name:"each",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i}))?s:"")+'\n</ul>\n\n<div class="nav">\n    <span data-id="recent"     class="tab '+(null!=(s=o(r(4)).call(l,null!=e?e.active:e,"==","recent",{name:"ifCond",hash:{},fn:t.program(3,i,0),inverse:t.noop,data:i}))?s:"")+'">Recent</span>\n    <span> | </span>\n    <span data-id="top-plaid"  class="tab  '+(null!=(s=o(r(4)).call(l,null!=e?e.active:e,"==","top-plaid",{name:"ifCond",hash:{},fn:t.program(3,i,0),inverse:t.noop,data:i}))?s:"")+'">Top Plaid</span>\n    <span> | </span>\n    <span data-id="favourites" class="tab  '+(null!=(s=o(r(4)).call(l,null!=e?e.active:e,"==","favourites",{name:"ifCond",hash:{},fn:t.program(3,i,0),inverse:t.noop,data:i}))?s:"")+'">Favourites</span>\n</div>'},useData:!0})},function(t,e,r){var n=r(16);function o(t){return t&&(t.__esModule?t.default:t)}t.exports=(n.default||n).template({1:function(t,e,r,n,o){return"active"},3:function(t,e,n,a,i){var s;return'    <div class="stack">\n'+(null!=(s=o(r(96)).call(null!=e?e:t.nullContext||{},e,{name:"second",hash:{},fn:t.program(4,i,0),inverse:t.noop,data:i}))?s:"")+'\n        <span class="label">'+t.escapeExpression(t.lambda(null!=e?e[0]:e,e))+"</span>\n    </div>\n"},4:function(t,e,r,n,o){var a;return'            <div class="covers">\n'+(null!=(a=r.each.call(null!=e?e:t.nullContext||{},e,{name:"each",hash:{},fn:t.program(5,o,0),inverse:t.noop,data:o}))?a:"")+"            </div>\n"},5:function(t,e,r,n,o){var a,i=t.lambda,s=t.escapeExpression;return"                    <img id="+s(i(null!=e?e.id:e,e))+' class="album" src='+s(i(null!=(a=null!=(a=null!=e?e.images:e)?a[0]:a)?a.url:a,e))+" >\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,a,i){var s,l=null!=e?e:t.nullContext||{};return'<div class="nav">\n    <span data-id="alphabet" class="tab '+(null!=(s=o(r(4)).call(l,null!=e?e.active:e,"==","alphabet",{name:"ifCond",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i}))?s:"")+'">Alphabet</span>\n    <span> | </span>\n    <span data-id="year" class="tab '+(null!=(s=o(r(4)).call(l,null!=e?e.active:e,"==","year",{name:"ifCond",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i}))?s:"")+'">Year</span>\n    <span> | </span>\n    <span data-id="sorted" class="tab '+(null!=(s=o(r(4)).call(l,null!=e?e.active:e,"==","sorted",{name:"ifCond",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i}))?s:"")+'">Sorted</span>\n</div>\n\n\n<div class="grid">\n'+(null!=(s=n.each.call(l,null!=e?e.albums:e,{name:"each",hash:{},fn:t.program(3,i,0),inverse:t.noop,data:i}))?s:"")+"</div>\n"},useData:!0})},function(t,e,r){"use strict";var n=r(45),o=r(213);n.default.DefaultOpts.ImageClass=o.default,t.exports=n.default},function(t,e,r){var n=r(16);function o(t){return t&&(t.__esModule?t.default:t)}t.exports=(n.default||n).template({1:function(t,e,n,a,i){var s=t.escapeExpression,l=null!=e?e:t.nullContext||{};return'                        <li class="track">\n                            <span class="number">'+s(t.lambda(null!=e?e.track_number:e,e))+'</span>\n                            <span class="title">'+s(o(r(8)).call(l,null!=e?e.name:e,{name:"removeRemaster",hash:{},data:i}))+'</span>\n                            <span class="length">'+s(o(r(71)).call(l,null!=e?e.duration_ms:e,{name:"msToMin",hash:{},data:i}))+"</span>\n                        </li>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,a,i){var s,l=t.lambda,u=t.escapeExpression,c=null!=e?e:t.nullContext||{};return'<div class="flip-container">\n    <div class="flipper">\n        <div class="front">\n            \x3c!-- front content --\x3e\n            <img src='+u(l(null!=e?e.albumCover:e,e))+' >\n        </div>\n        <div class="back">\n            <img class="album-cover" src='+u(l(null!=e?e.albumCover:e,e))+' >\n            <div class="skrim" style="background-color: '+u(l(null!=e?e.coverColor:e,e))+'"></div>\n            <div class="content">\n                <span class="band-name">'+u(l(null!=(s=null!=(s=null!=(s=null!=e?e.album:e)?s.artists:s)?s[0]:s)?s.name:s,e))+'</span>\n                <span class="album-name">'+u(o(r(8)).call(c,null!=(s=null!=e?e.album:e)?s.name:s,{name:"removeRemaster",hash:{},data:i}))+'</span>\n                <ul class="track-list">\n'+(null!=(s=n.each.call(c,null!=(s=null!=(s=null!=e?e.album:e)?s.tracks:s)?s.items:s,{name:"each",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i}))?s:"")+'                <ul>\n                <span class="year">'+u(o(r(221)).call(c,null!=(s=null!=e?e.album:e)?s.release_date:s,{name:"onlyYear",hash:{},data:i}))+'</span>\n                <span class="copyright">'+u(l(null!=(s=null!=(s=null!=(s=null!=e?e.album:e)?s.copyrights:s)?s[0]:s)?s.text:s,e))+"</span>\n            </div>\n        </div>\n    </div>\n</div>"},useData:!0})},function(t,e,r){var n=r(16);function o(t){return t&&(t.__esModule?t.default:t)}t.exports=(n.default||n).template({1:function(t,e,r,n,o){return'    <img class="album-art" src="'+t.escapeExpression(t.lambda(null!=e?e.albumCover:e,e))+'" alt="Currently playing album art">\n'},3:function(t,e,r,n,o,a,i){var s;return'        <ul class="track-list">\n'+(null!=(s=r.each.call(null!=e?e:t.nullContext||{},null!=(s=null!=(s=null!=e?e.album:e)?s.tracks:s)?s.items:s,{name:"each",hash:{},fn:t.program(4,o,0,a,i),inverse:t.noop,data:o}))?s:"")+"        <ul>\n"},4:function(t,e,n,a,i,s,l){var u,c=null!=e?e:t.nullContext||{},p=t.escapeExpression;return'                <li class="track '+(null!=(u=o(r(4)).call(c,null!=l[1]?l[1].currentTrackNumber:l[1],"==",null!=e?e.track_number:e,{name:"ifCond",hash:{},fn:t.program(5,i,0,s,l),inverse:t.noop,data:i}))?u:"")+'">\n                    <span class="number">'+p(t.lambda(null!=e?e.track_number:e,e))+'</span>\n                    <span class="title">'+p(o(r(8)).call(c,null!=e?e.name:e,{name:"removeRemaster",hash:{},data:i}))+'</span>\n                    <span class="length">'+p(o(r(71)).call(c,null!=e?e.duration_ms:e,{name:"msToMin",hash:{},data:i}))+"</span>\n                </li>\n"},5:function(t,e,r,n,o){return"active"},7:function(t,e,r,n,o){return""},compiler:[7,">= 4.0.0"],main:function(t,e,r,n,o,a,i){var s,l=null!=e?e:t.nullContext||{},u=t.lambda,c=t.escapeExpression;return"\n"+(null!=(s=r.if.call(l,null!=e?e.playing:e,{name:"if",hash:{},fn:t.program(1,o,0,a,i),inverse:t.noop,data:o}))?s:"")+'\n<div class="display">\n    <h1 class="track-info">'+c(u(null!=e?e.trackInfo:e,e))+'</h1>\n    <h1 class="track-info">'+c(u(null!=e?e.trackInfo:e,e))+'</h1>\n</div>\n\n<div class="content">\n'+(null!=(s=r.if.call(l,null!=e?e.playing:e,{name:"if",hash:{},fn:t.program(3,o,0,a,i),inverse:t.noop,data:o}))?s:"")+'</div>\n\n<div class="spotify-player">\n'+(null!=(s=r.if.call(l,null!=e?e.playing:e,{name:"if",hash:{},fn:t.program(7,o,0,a,i),inverse:t.noop,data:o}))?s:"")+"</div>"},useData:!0,useDepths:!0})},function(t,e,r){t.exports=r.p+"index.html"},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}e.__esModule=!0;var a=o(r(44)),i=n(r(91)),s=n(r(9)),l=o(r(2)),u=o(r(92)),c=n(r(93));function p(){var t=new a.HandlebarsEnvironment;return l.extend(t,a),t.SafeString=i.default,t.Exception=s.default,t.Utils=l,t.escapeExpression=l.escapeExpression,t.VM=u,t.template=function(e){return u.template(e,t)},t}var f=p();f.create=p,c.default(f),f.default=f,e.default=f,t.exports=e.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.registerDefaultHelpers=function(t){o.default(t),a.default(t),i.default(t),s.default(t),l.default(t),u.default(t),c.default(t)};var o=n(r(81)),a=n(r(82)),i=n(r(83)),s=n(r(84)),l=n(r(85)),u=n(r(86)),c=n(r(87))},function(t,e,r){"use strict";e.__esModule=!0;var n=r(2);e.default=function(t){t.registerHelper("blockHelperMissing",(function(e,r){var o=r.inverse,a=r.fn;if(!0===e)return a(this);if(!1===e||null==e)return o(this);if(n.isArray(e))return e.length>0?(r.ids&&(r.ids=[r.name]),t.helpers.each(e,r)):o(this);if(r.data&&r.ids){var i=n.createFrame(r.data);i.contextPath=n.appendContextPath(r.data.contextPath,r.name),r={data:i}}return a(e,r)}))},t.exports=e.default},function(t,e,r){"use strict";e.__esModule=!0;var n,o=r(2),a=r(9),i=(n=a)&&n.__esModule?n:{default:n};e.default=function(t){t.registerHelper("each",(function(t,e){if(!e)throw new i.default("Must pass iterator to #each");var r=e.fn,n=e.inverse,a=0,s="",l=void 0,u=void 0;function c(e,n,a){l&&(l.key=e,l.index=n,l.first=0===n,l.last=!!a,u&&(l.contextPath=u+e)),s+=r(t[e],{data:l,blockParams:o.blockParams([t[e],e],[u+e,null])})}if(e.data&&e.ids&&(u=o.appendContextPath(e.data.contextPath,e.ids[0])+"."),o.isFunction(t)&&(t=t.call(this)),e.data&&(l=o.createFrame(e.data)),t&&"object"==typeof t)if(o.isArray(t))for(var p=t.length;a<p;a++)a in t&&c(a,a,a===t.length-1);else{var f=void 0;for(var h in t)t.hasOwnProperty(h)&&(void 0!==f&&c(f,a-1),f=h,a++);void 0!==f&&c(f,a-1,!0)}return 0===a&&(s=n(this)),s}))},t.exports=e.default},function(t,e,r){"use strict";e.__esModule=!0;var n,o=r(9),a=(n=o)&&n.__esModule?n:{default:n};e.default=function(t){t.registerHelper("helperMissing",(function(){if(1!==arguments.length)throw new a.default('Missing helper: "'+arguments[arguments.length-1].name+'"')}))},t.exports=e.default},function(t,e,r){"use strict";e.__esModule=!0;var n=r(2);e.default=function(t){t.registerHelper("if",(function(t,e){return n.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||n.isEmpty(t)?e.inverse(this):e.fn(this)})),t.registerHelper("unless",(function(e,r){return t.helpers.if.call(this,e,{fn:r.inverse,inverse:r.fn,hash:r.hash})}))},t.exports=e.default},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("log",(function(){for(var e=[void 0],r=arguments[arguments.length-1],n=0;n<arguments.length-1;n++)e.push(arguments[n]);var o=1;null!=r.hash.level?o=r.hash.level:r.data&&null!=r.data.level&&(o=r.data.level),e[0]=o,t.log.apply(t,e)}))},t.exports=e.default},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("lookup",(function(t,e){return t?"constructor"!==e||t.propertyIsEnumerable(e)?t[e]:void 0:t}))},t.exports=e.default},function(t,e,r){"use strict";e.__esModule=!0;var n=r(2);e.default=function(t){t.registerHelper("with",(function(t,e){n.isFunction(t)&&(t=t.call(this));var r=e.fn;if(n.isEmpty(t))return e.inverse(this);var o=e.data;return e.data&&e.ids&&((o=n.createFrame(e.data)).contextPath=n.appendContextPath(e.data.contextPath,e.ids[0])),r(t,{data:o,blockParams:n.blockParams([t],[o&&o.contextPath])})}))},t.exports=e.default},function(t,e,r){"use strict";e.__esModule=!0,e.registerDefaultDecorators=function(t){a.default(t)};var n,o=r(89),a=(n=o)&&n.__esModule?n:{default:n}},function(t,e,r){"use strict";e.__esModule=!0;var n=r(2);e.default=function(t){t.registerDecorator("inline",(function(t,e,r,o){var a=t;return e.partials||(e.partials={},a=function(o,a){var i=r.partials;r.partials=n.extend({},i,e.partials);var s=t(o,a);return r.partials=i,s}),e.partials[o.args[0]]=o.fn,a}))},t.exports=e.default},function(t,e,r){"use strict";e.__esModule=!0;var n=r(2),o={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){if("string"==typeof t){var e=n.indexOf(o.methodMap,t.toLowerCase());t=e>=0?e:parseInt(t,10)}return t},log:function(t){if(t=o.lookupLevel(t),"undefined"!=typeof console&&o.lookupLevel(o.level)<=t){var e=o.methodMap[t];console[e]||(e="log");for(var r=arguments.length,n=Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];console[e].apply(console,n)}}};e.default=o,t.exports=e.default},function(t,e,r){"use strict";function n(t){this.string=t}e.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},e.default=n,t.exports=e.default},function(t,e,r){"use strict";e.__esModule=!0,e.checkRevision=function(t){var e=t&&t[0]||1,r=s.COMPILER_REVISION;if(e!==r){if(e<r){var n=s.REVISION_CHANGES[r],o=s.REVISION_CHANGES[e];throw new i.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+o+").")}throw new i.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}},e.template=function(t,e){if(!e)throw new i.default("No environment passed to template");if(!t||!t.main)throw new i.default("Unknown template object: "+typeof t);t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var r={strict:function(t,e){if(!(e in t))throw new i.default('"'+e+'" not defined in '+t);return t[e]},lookup:function(t,e){for(var r=t.length,n=0;n<r;n++)if(t[n]&&null!=t[n][e])return t[n][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:o.escapeExpression,invokePartial:function(r,n,a){a.hash&&(n=o.extend({},n,a.hash),a.ids&&(a.ids[0]=!0)),r=e.VM.resolvePartial.call(this,r,n,a);var s=e.VM.invokePartial.call(this,r,n,a);if(null==s&&e.compile&&(a.partials[a.name]=e.compile(r,t.compilerOptions,e),s=a.partials[a.name](n,a)),null!=s){if(a.indent){for(var l=s.split("\n"),u=0,c=l.length;u<c&&(l[u]||u+1!==c);u++)l[u]=a.indent+l[u];s=l.join("\n")}return s}throw new i.default("The partial "+a.name+" could not be compiled when running in runtime-only mode")},fn:function(e){var r=t[e];return r.decorator=t[e+"_d"],r},programs:[],program:function(t,e,r,n,o){var a=this.programs[t],i=this.fn(t);return e||o||n||r?a=l(this,t,i,e,r,n,o):a||(a=this.programs[t]=l(this,t,i)),a},data:function(t,e){for(;t&&e--;)t=t._parent;return t},merge:function(t,e){var r=t||e;return t&&e&&t!==e&&(r=o.extend({},e,t)),r},nullContext:Object.seal({}),noop:e.VM.noop,compilerInfo:t.compiler};function n(e){var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=o.data;n._setup(o),!o.partial&&t.useData&&(a=function(t,e){e&&"root"in e||((e=e?s.createFrame(e):{}).root=t);return e}(e,a));var i=void 0,l=t.useBlockParams?[]:void 0;function u(e){return""+t.main(r,e,r.helpers,r.partials,a,l,i)}return t.useDepths&&(i=o.depths?e!=o.depths[0]?[e].concat(o.depths):o.depths:[e]),(u=c(t.main,u,r,o.depths||[],a,l))(e,o)}return n.isTop=!0,n._setup=function(n){n.partial?(r.helpers=n.helpers,r.partials=n.partials,r.decorators=n.decorators):(r.helpers=r.merge(n.helpers,e.helpers),t.usePartial&&(r.partials=r.merge(n.partials,e.partials)),(t.usePartial||t.useDecorators)&&(r.decorators=r.merge(n.decorators,e.decorators)))},n._child=function(e,n,o,a){if(t.useBlockParams&&!o)throw new i.default("must pass block params");if(t.useDepths&&!a)throw new i.default("must pass parent depths");return l(r,e,t[e],n,0,o,a)},n},e.wrapProgram=l,e.resolvePartial=function(t,e,r){t?t.call||r.name||(r.name=t,t=r.partials[t]):t="@partial-block"===r.name?r.data["partial-block"]:r.partials[r.name];return t},e.invokePartial=function(t,e,r){var n=r.data&&r.data["partial-block"];r.partial=!0,r.ids&&(r.data.contextPath=r.ids[0]||r.data.contextPath);var a=void 0;r.fn&&r.fn!==u&&function(){r.data=s.createFrame(r.data);var t=r.fn;a=r.data["partial-block"]=function(e){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return r.data=s.createFrame(r.data),r.data["partial-block"]=n,t(e,r)},t.partials&&(r.partials=o.extend({},r.partials,t.partials))}();void 0===t&&a&&(t=a);if(void 0===t)throw new i.default("The partial "+r.name+" could not be found");if(t instanceof Function)return t(e,r)},e.noop=u;var n,o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(2)),a=r(9),i=(n=a)&&n.__esModule?n:{default:n},s=r(44);function l(t,e,r,n,o,a,i){function s(e){var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=i;return!i||e==i[0]||e===t.nullContext&&null===i[0]||(s=[e].concat(i)),r(t,e,t.helpers,t.partials,o.data||n,a&&[o.blockParams].concat(a),s)}return(s=c(r,s,t,i,n,a)).program=e,s.depth=i?i.length:0,s.blockParams=o||0,s}function u(){return""}function c(t,e,r,n,a,i){if(t.decorator){var s={};e=t.decorator(e,s,r,n&&n[0],a,i,n),o.extend(e,s)}return e}},function(t,e,r){"use strict";(function(r){e.__esModule=!0,e.default=function(t){var e=void 0!==r?r:window,n=e.Handlebars;t.noConflict=function(){return e.Handlebars===t&&(e.Handlebars=n),t}},t.exports=e.default}).call(this,r(27))},function(t,e,r){var n=r(95);"string"==typeof n&&(n=[[t.i,n,""]]);var o={insert:"head",singleton:!1};r(11)(n,o);n.locals&&(t.exports=n.locals)},function(t,e,r){(t.exports=r(10)(!1)).push([t.i,"#deck{max-height:348px;max-width:1240px;box-sizing:border-box;background-color:rgba(0,0,0,0.25);border-radius:12px;margin:auto;padding:40px 47px;position:relative;text-align:center}#deck .album{width:calc(25% - 9px);height:calc(25% - 9px);max-width:260px;max-height:260px;display:inline-block;margin-left:12px;box-shadow:0 0 4px rgba(0,0,0,0.5)}#deck .album:first-child{margin-left:0px}#deck .nav{position:absolute;bottom:-15px;font-family:'Noir';font-weight:normal}#deck .nav span{font-size:24px;color:rgba(255,255,255,0.5);transition:color .2s, font-size .2s}#deck .nav .active{font-weight:500;font-size:43px;color:white}\n",""])},function(t,e){t.exports=function(t,e){return e.fn(t[1])}},function(t,e,r){var n=r(98);"string"==typeof n&&(n=[[t.i,n,""]]);var o={insert:"head",singleton:!1};r(11)(n,o);n.locals&&(t.exports=n.locals)},function(t,e,r){(t.exports=r(10)(!1)).push([t.i,"#albums{padding:36px;width:100%;box-sizing:border-box;text-align:center}#albums .nav{font-family:'Noir';font-weight:normal;width:100%;text-align:center}#albums .nav span{font-size:36px;color:rgba(255,255,255,0.5);transition:color .2s, font-size .2s, font-weight .05s}#albums .nav .active{font-weight:500;color:white}#albums .stack{width:266px;height:304px;position:relative;display:inline-block;margin:34px 17px 76px 17px}#albums .stack .covers{position:relative}#albums .stack .album{position:absolute;width:186px;height:186px;top:0px;left:40px;box-shadow:0 0 4px rgba(0,0,0,0.5);transition:top .2s, width .2s, height .2s, left .2s}#albums .stack .album:nth-last-child(1){top:38px;width:266px;height:266px;left:0}#albums .stack .album:nth-last-child(2){top:27px;width:250px;height:250px;left:8px}#albums .stack .album:nth-last-child(3){top:18px;width:230px;height:230px;left:18px}#albums .stack .album:nth-last-child(4){top:11px;width:210px;height:210px;left:28px}#albums .stack .album:nth-last-child(5){top:4px;width:198px;height:198px;left:34px}#albums .stack .label{font-family:'Noir';font-weight:500;font-size:100px;position:absolute;bottom:-44px;left:16px;text-shadow:0 0 8px rgba(0,0,0,0.5);z-index:1}\n",""])},function(t,e,r){var n=r(46),o=r(100),a=r(114),i=r(1);t.exports=function(t,e){return(i(t)?n:o)(t,a(e,3))}},function(t,e,r){var n=r(101);t.exports=function(t,e){var r=[];return n(t,(function(t,n,o){e(t,n,o)&&r.push(t)})),r}},function(t,e,r){var n=r(102),o=r(113)(n);t.exports=o},function(t,e,r){var n=r(103),o=r(12);t.exports=function(t,e){return t&&n(t,e,o)}},function(t,e,r){var n=r(104)();t.exports=n},function(t,e){t.exports=function(t){return function(e,r,n){for(var o=-1,a=Object(e),i=n(e),s=i.length;s--;){var l=i[t?s:++o];if(!1===r(a[l],l,a))break}return e}}},function(t,e){t.exports=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}},function(t,e,r){var n=r(13),o=r(5),a="[object Arguments]";t.exports=function(t){return o(t)&&n(t)==a}},function(t,e,r){var n=r(14),o=Object.prototype,a=o.hasOwnProperty,i=o.toString,s=n?n.toStringTag:void 0;t.exports=function(t){var e=a.call(t,s),r=t[s];try{t[s]=void 0;var n=!0}catch(t){}var o=i.call(t);return n&&(e?t[s]=r:delete t[s]),o}},function(t,e){var r=Object.prototype.toString;t.exports=function(t){return r.call(t)}},function(t,e){t.exports=function(){return!1}},function(t,e,r){var n=r(13),o=r(31),a=r(5),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,t.exports=function(t){return a(t)&&o(t.length)&&!!i[n(t)]}},function(t,e,r){var n=r(34),o=r(112),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return o(t);var e=[];for(var r in Object(t))a.call(t,r)&&"constructor"!=r&&e.push(r);return e}},function(t,e,r){var n=r(51)(Object.keys,Object);t.exports=n},function(t,e,r){var n=r(19);t.exports=function(t,e){return function(r,o){if(null==r)return r;if(!n(r))return t(r,o);for(var a=r.length,i=e?a:-1,s=Object(r);(e?i--:++i<a)&&!1!==o(s[i],i,s););return r}}},function(t,e,r){var n=r(115),o=r(158),a=r(41),i=r(1),s=r(169);t.exports=function(t){return"function"==typeof t?t:null==t?a:"object"==typeof t?i(t)?o(t[0],t[1]):n(t):s(t)}},function(t,e,r){var n=r(116),o=r(157),a=r(62);t.exports=function(t){var e=o(t);return 1==e.length&&e[0][2]?a(e[0][0],e[0][1]):function(r){return r===t||n(r,t,e)}}},function(t,e,r){var n=r(35),o=r(54),a=1,i=2;t.exports=function(t,e,r,s){var l=r.length,u=l,c=!s;if(null==t)return!u;for(t=Object(t);l--;){var p=r[l];if(c&&p[2]?p[1]!==t[p[0]]:!(p[0]in t))return!1}for(;++l<u;){var f=(p=r[l])[0],h=t[f],d=p[1];if(c&&p[2]){if(void 0===h&&!(f in t))return!1}else{var v=new n;if(s)var m=s(h,d,f,t,e,v);if(!(void 0===m?o(d,h,a|i,s,v):m))return!1}}return!0}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,r){var n=r(21),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,r=n(e,t);return!(r<0)&&(r==e.length-1?e.pop():o.call(e,r,1),--this.size,!0)}},function(t,e,r){var n=r(21);t.exports=function(t){var e=this.__data__,r=n(e,t);return r<0?void 0:e[r][1]}},function(t,e,r){var n=r(21);t.exports=function(t){return n(this.__data__,t)>-1}},function(t,e,r){var n=r(21);t.exports=function(t,e){var r=this.__data__,o=n(r,t);return o<0?(++this.size,r.push([t,e])):r[o][1]=e,this}},function(t,e,r){var n=r(20);t.exports=function(){this.__data__=new n,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,r){var n=r(20),o=r(36),a=r(37),i=200;t.exports=function(t,e){var r=this.__data__;if(r instanceof n){var s=r.__data__;if(!o||s.length<i-1)return s.push([t,e]),this.size=++r.size,this;r=this.__data__=new a(s)}return r.set(t,e),this.size=r.size,this}},function(t,e,r){var n=r(52),o=r(128),a=r(6),i=r(53),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,p=u.hasOwnProperty,f=RegExp("^"+c.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!a(t)||o(t))&&(n(t)?f:s).test(i(t))}},function(t,e,r){var n,o=r(129),a=(n=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";t.exports=function(t){return!!a&&a in t}},function(t,e,r){var n=r(0)["__core-js_shared__"];t.exports=n},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,r){var n=r(132),o=r(20),a=r(36);t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(a||o),string:new n}}},function(t,e,r){var n=r(133),o=r(134),a=r(135),i=r(136),s=r(137);function l(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=i,l.prototype.set=s,t.exports=l},function(t,e,r){var n=r(22);t.exports=function(){this.__data__=n?n(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,r){var n=r(22),o="__lodash_hash_undefined__",a=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(n){var r=e[t];return r===o?void 0:r}return a.call(e,t)?e[t]:void 0}},function(t,e,r){var n=r(22),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return n?void 0!==e[t]:o.call(e,t)}},function(t,e,r){var n=r(22),o="__lodash_hash_undefined__";t.exports=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n&&void 0===e?o:e,this}},function(t,e,r){var n=r(23);t.exports=function(t){var e=n(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,r){var n=r(23);t.exports=function(t){return n(this,t).get(t)}},function(t,e,r){var n=r(23);t.exports=function(t){return n(this,t).has(t)}},function(t,e,r){var n=r(23);t.exports=function(t,e){var r=n(this,t),o=r.size;return r.set(t,e),this.size+=r.size==o?0:1,this}},function(t,e,r){var n=r(35),o=r(55),a=r(149),i=r(152),s=r(24),l=r(1),u=r(29),c=r(50),p=1,f="[object Arguments]",h="[object Array]",d="[object Object]",v=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,m,y,g){var b=l(t),x=l(e),_=b?h:s(t),w=x?h:s(e),k=(_=_==f?d:_)==d,j=(w=w==f?d:w)==d,S=_==w;if(S&&u(t)){if(!u(e))return!1;b=!0,k=!1}if(S&&!k)return g||(g=new n),b||c(t)?o(t,e,r,m,y,g):a(t,e,_,r,m,y,g);if(!(r&p)){var O=k&&v.call(t,"__wrapped__"),P=j&&v.call(e,"__wrapped__");if(O||P){var M=O?t.value():t,T=P?e.value():e;return g||(g=new n),y(M,T,r,m,g)}}return!!S&&(g||(g=new n),i(t,e,r,m,y,g))}},function(t,e,r){var n=r(37),o=r(145),a=r(146);function i(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new n;++e<r;)this.add(t[e])}i.prototype.add=i.prototype.push=o,i.prototype.has=a,t.exports=i},function(t,e){var r="__lodash_hash_undefined__";t.exports=function(t){return this.__data__.set(t,r),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,r){var n=r(14),o=r(56),a=r(15),i=r(55),s=r(150),l=r(151),u=1,c=2,p="[object Boolean]",f="[object Date]",h="[object Error]",d="[object Map]",v="[object Number]",m="[object RegExp]",y="[object Set]",g="[object String]",b="[object Symbol]",x="[object ArrayBuffer]",_="[object DataView]",w=n?n.prototype:void 0,k=w?w.valueOf:void 0;t.exports=function(t,e,r,n,w,j,S){switch(r){case _:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case x:return!(t.byteLength!=e.byteLength||!j(new o(t),new o(e)));case p:case f:case v:return a(+t,+e);case h:return t.name==e.name&&t.message==e.message;case m:case g:return t==e+"";case d:var O=s;case y:var P=n&u;if(O||(O=l),t.size!=e.size&&!P)return!1;var M=S.get(t);if(M)return M==e;n|=c,S.set(t,e);var T=i(O(t),O(e),n,w,j,S);return S.delete(t),T;case b:if(k)return k.call(t)==k.call(e)}return!1}},function(t,e){t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}},function(t,e){t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}},function(t,e,r){var n=r(57),o=1,a=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,i,s,l){var u=r&o,c=n(t),p=c.length;if(p!=n(e).length&&!u)return!1;for(var f=p;f--;){var h=c[f];if(!(u?h in e:a.call(e,h)))return!1}var d=l.get(t);if(d&&l.get(e))return d==e;var v=!0;l.set(t,e),l.set(e,t);for(var m=u;++f<p;){var y=t[h=c[f]],g=e[h];if(i)var b=u?i(g,y,h,e,t,l):i(y,g,h,t,e,l);if(!(void 0===b?y===g||s(y,g,r,i,l):b)){v=!1;break}m||(m="constructor"==h)}if(v&&!m){var x=t.constructor,_=e.constructor;x!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof x&&x instanceof x&&"function"==typeof _&&_ instanceof _)&&(v=!1)}return l.delete(t),l.delete(e),v}},function(t,e,r){var n=r(7)(r(0),"DataView");t.exports=n},function(t,e,r){var n=r(7)(r(0),"Promise");t.exports=n},function(t,e,r){var n=r(7)(r(0),"Set");t.exports=n},function(t,e,r){var n=r(7)(r(0),"WeakMap");t.exports=n},function(t,e,r){var n=r(61),o=r(12);t.exports=function(t){for(var e=o(t),r=e.length;r--;){var a=e[r],i=t[a];e[r]=[a,i,n(i)]}return e}},function(t,e,r){var n=r(54),o=r(159),a=r(166),i=r(39),s=r(61),l=r(62),u=r(25),c=1,p=2;t.exports=function(t,e){return i(t)&&s(e)?l(u(t),e):function(r){var i=o(r,t);return void 0===i&&i===e?a(r,t):n(e,i,c|p)}}},function(t,e,r){var n=r(63);t.exports=function(t,e,r){var o=null==t?void 0:n(t,e);return void 0===o?r:o}},function(t,e,r){var n=r(161),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,i=n((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(o,(function(t,r,n,o){e.push(n?o.replace(a,"$1"):r||t)})),e}));t.exports=i},function(t,e,r){var n=r(162),o=500;t.exports=function(t){var e=n(t,(function(t){return r.size===o&&r.clear(),t})),r=e.cache;return e}},function(t,e,r){var n=r(37),o="Expected a function";function a(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(o);var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],a=r.cache;if(a.has(o))return a.get(o);var i=t.apply(this,n);return r.cache=a.set(o,i)||a,i};return r.cache=new(a.Cache||n),r}a.Cache=n,t.exports=a},function(t,e,r){var n=r(164);t.exports=function(t){return null==t?"":n(t)}},function(t,e,r){var n=r(14),o=r(165),a=r(1),i=r(40),s=1/0,l=n?n.prototype:void 0,u=l?l.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(a(e))return o(e,t)+"";if(i(e))return u?u.call(e):"";var r=e+"";return"0"==r&&1/e==-s?"-0":r}},function(t,e){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}},function(t,e,r){var n=r(167),o=r(168);t.exports=function(t,e){return null!=t&&o(t,e,n)}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,r){var n=r(64),o=r(48),a=r(1),i=r(30),s=r(31),l=r(25);t.exports=function(t,e,r){for(var u=-1,c=(e=n(e,t)).length,p=!1;++u<c;){var f=l(e[u]);if(!(p=null!=t&&r(t,f)))break;t=t[f]}return p||++u!=c?p:!!(c=null==t?0:t.length)&&s(c)&&i(f,c)&&(a(t)||o(t))}},function(t,e,r){var n=r(170),o=r(171),a=r(39),i=r(25);t.exports=function(t){return a(t)?n(i(t)):o(t)}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,r){var n=r(63);t.exports=function(t){return function(e){return n(e,t)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(45),o=r(173),a=function(){function t(t,e){void 0===e&&(e={}),this._src=t,this._opts=e,this._opts.filters=o(n.default.DefaultOpts.filters)}return t.prototype.maxColorCount=function(t){return this._opts.colorCount=t,this},t.prototype.maxDimension=function(t){return this._opts.maxDimension=t,this},t.prototype.addFilter=function(t){return this._opts.filters.push(t),this},t.prototype.removeFilter=function(t){var e=this._opts.filters.indexOf(t);return e>0&&this._opts.filters.splice(e),this},t.prototype.clearFilters=function(){return this._opts.filters=[],this},t.prototype.quality=function(t){return this._opts.quality=t,this},t.prototype.useImageClass=function(t){return this._opts.ImageClass=t,this},t.prototype.useGenerator=function(t){return this._opts.generator=t,this},t.prototype.useQuantizer=function(t){return this._opts.quantizer=t,this},t.prototype.build=function(){return new n.default(this._src,this._opts)},t.prototype.getPalette=function(t){return this.build().getPalette(t)},t.prototype.getSwatches=function(t){return this.build().getPalette(t)},t}();e.default=a},function(t,e,r){var n=r(174),o=4;t.exports=function(t){return n(t,o)}},function(t,e,r){var n=r(35),o=r(175),a=r(65),i=r(176),s=r(177),l=r(180),u=r(181),c=r(182),p=r(183),f=r(57),h=r(184),d=r(24),v=r(185),m=r(186),y=r(191),g=r(1),b=r(29),x=r(193),_=r(6),w=r(195),k=r(12),j=1,S=2,O=4,P="[object Arguments]",M="[object Function]",T="[object GeneratorFunction]",A="[object Object]",E={};E[P]=E["[object Array]"]=E["[object ArrayBuffer]"]=E["[object DataView]"]=E["[object Boolean]"]=E["[object Date]"]=E["[object Float32Array]"]=E["[object Float64Array]"]=E["[object Int8Array]"]=E["[object Int16Array]"]=E["[object Int32Array]"]=E["[object Map]"]=E["[object Number]"]=E[A]=E["[object RegExp]"]=E["[object Set]"]=E["[object String]"]=E["[object Symbol]"]=E["[object Uint8Array]"]=E["[object Uint8ClampedArray]"]=E["[object Uint16Array]"]=E["[object Uint32Array]"]=!0,E["[object Error]"]=E[M]=E["[object WeakMap]"]=!1,t.exports=function t(e,r,C,L,I,D){var F,R=r&j,U=r&S,q=r&O;if(C&&(F=I?C(e,L,I,D):C(e)),void 0!==F)return F;if(!_(e))return e;var N=g(e);if(N){if(F=v(e),!R)return u(e,F)}else{var z=d(e),H=z==M||z==T;if(b(e))return l(e,R);if(z==A||z==P||H&&!I){if(F=U||H?{}:y(e),!R)return U?p(e,s(F,e)):c(e,i(F,e))}else{if(!E[z])return I?e:{};F=m(e,z,R)}}D||(D=new n);var V=D.get(e);if(V)return V;D.set(e,F),w(e)?e.forEach((function(n){F.add(t(n,r,C,n,e,D))})):x(e)&&e.forEach((function(n,o){F.set(o,t(n,r,C,o,e,D))}));var B=q?U?h:f:U?keysIn:k,G=N?void 0:B(e);return o(G||e,(function(n,o){G&&(n=e[o=n]),a(F,o,t(n,r,C,o,e,D))})),F}},function(t,e){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}},function(t,e,r){var n=r(26),o=r(12);t.exports=function(t,e){return t&&n(e,o(e),t)}},function(t,e,r){var n=r(26),o=r(42);t.exports=function(t,e){return t&&n(e,o(e),t)}},function(t,e,r){var n=r(6),o=r(34),a=r(179),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return a(t);var e=o(t),r=[];for(var s in t)("constructor"!=s||!e&&i.call(t,s))&&r.push(s);return r}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}},function(t,e,r){(function(t){var n=r(0),o=e&&!e.nodeType&&e,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,i=a&&a.exports===o?n.Buffer:void 0,s=i?i.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,n=s?s(r):new t.constructor(r);return t.copy(n),n}}).call(this,r(18)(t))},function(t,e){t.exports=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}},function(t,e,r){var n=r(26),o=r(38);t.exports=function(t,e){return n(t,o(t),e)}},function(t,e,r){var n=r(26),o=r(68);t.exports=function(t,e){return n(t,o(t),e)}},function(t,e,r){var n=r(58),o=r(68),a=r(42);t.exports=function(t){return n(t,a,o)}},function(t,e){var r=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&r.call(t,"index")&&(n.index=t.index,n.input=t.input),n}},function(t,e,r){var n=r(43),o=r(187),a=r(188),i=r(189),s=r(190),l="[object Boolean]",u="[object Date]",c="[object Map]",p="[object Number]",f="[object RegExp]",h="[object Set]",d="[object String]",v="[object Symbol]",m="[object ArrayBuffer]",y="[object DataView]",g="[object Float32Array]",b="[object Float64Array]",x="[object Int8Array]",_="[object Int16Array]",w="[object Int32Array]",k="[object Uint8Array]",j="[object Uint8ClampedArray]",S="[object Uint16Array]",O="[object Uint32Array]";t.exports=function(t,e,r){var P=t.constructor;switch(e){case m:return n(t);case l:case u:return new P(+t);case y:return o(t,r);case g:case b:case x:case _:case w:case k:case j:case S:case O:return s(t,r);case c:return new P;case p:case d:return new P(t);case f:return a(t);case h:return new P;case v:return i(t)}}},function(t,e,r){var n=r(43);t.exports=function(t,e){var r=e?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}},function(t,e){var r=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,r.exec(t));return e.lastIndex=t.lastIndex,e}},function(t,e,r){var n=r(14),o=n?n.prototype:void 0,a=o?o.valueOf:void 0;t.exports=function(t){return a?Object(a.call(t)):{}}},function(t,e,r){var n=r(43);t.exports=function(t,e){var r=e?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}},function(t,e,r){var n=r(192),o=r(69),a=r(34);t.exports=function(t){return"function"!=typeof t.constructor||a(t)?{}:n(o(t))}},function(t,e,r){var n=r(6),o=Object.create,a=function(){function t(){}return function(e){if(!n(e))return{};if(o)return o(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();t.exports=a},function(t,e,r){var n=r(194),o=r(32),a=r(33),i=a&&a.isMap,s=i?o(i):n;t.exports=s},function(t,e,r){var n=r(24),o=r(5),a="[object Map]";t.exports=function(t){return o(t)&&n(t)==a}},function(t,e,r){var n=r(196),o=r(32),a=r(33),i=a&&a.isSet,s=i?o(i):n;t.exports=s},function(t,e,r){var n=r(24),o=r(5),a="[object Set]";t.exports=function(t){return o(t)&&n(t)==a}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(198);e.MMCQ=n.default,e.WebWorker=null},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(28),o=r(199),a=r(200);function i(t,e){for(var r=t.size();t.size()<e;){var n=t.pop();if(!(n&&n.count()>0))break;var o=n.split(),a=o[0],i=o[1];if(t.push(a),i&&i.count()>0&&t.push(i),t.size()===r)break;r=t.size()}}e.default=function(t,e){if(0===t.length||e.colorCount<2||e.colorCount>256)throw new Error("Wrong MMCQ parameters");var r=o.default.build(t),s=r.hist,l=(Object.keys(s).length,new a.default((function(t,e){return t.count()-e.count()})));l.push(r),i(l,.75*e.colorCount);var u=new a.default((function(t,e){return t.count()*t.volume()-e.count()*e.volume()}));return u.contents=l.contents,i(u,e.colorCount-u.size()),function(t){var e=[];for(;t.size();){var r=t.pop(),o=r.avg();o[0],o[1],o[2];e.push(new n.Swatch(o,r.count()))}return e}(u)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(17),o=function(){function t(t,e,r,n,o,a,i){this._volume=-1,this._count=-1,this.dimension={r1:t,r2:e,g1:r,g2:n,b1:o,b2:a},this.hist=i}return t.build=function(e,r){var o,a,i,s,l,u,c,p,f,h=1<<3*n.SIGBITS,d=new Uint32Array(h);o=i=l=0,a=s=u=Number.MAX_VALUE;for(var v=e.length/4,m=0;m<v;){var y=4*m;if(m++,c=e[y+0],p=e[y+1],f=e[y+2],0!==e[y+3])c>>=n.RSHIFT,p>>=n.RSHIFT,f>>=n.RSHIFT,d[n.getColorIndex(c,p,f)]+=1,c>o&&(o=c),c<a&&(a=c),p>i&&(i=p),p<s&&(s=p),f>l&&(l=f),f<u&&(u=f)}return new t(a,o,s,i,u,l,d)},t.prototype.invalidate=function(){this._volume=this._count=-1,this._avg=null},t.prototype.volume=function(){if(this._volume<0){var t=this.dimension,e=t.r1,r=t.r2,n=t.g1,o=t.g2,a=t.b1,i=t.b2;this._volume=(r-e+1)*(o-n+1)*(i-a+1)}return this._volume},t.prototype.count=function(){if(this._count<0){for(var t=this.hist,e=this.dimension,r=e.r1,o=e.r2,a=e.g1,i=e.g2,s=e.b1,l=e.b2,u=0,c=r;c<=o;c++)for(var p=a;p<=i;p++)for(var f=s;f<=l;f++){u+=t[n.getColorIndex(c,p,f)]}this._count=u}return this._count},t.prototype.clone=function(){var e=this.hist,r=this.dimension;return new t(r.r1,r.r2,r.g1,r.g2,r.b1,r.b2,e)},t.prototype.avg=function(){if(!this._avg){var t=this.hist,e=this.dimension,r=e.r1,o=e.r2,a=e.g1,i=e.g2,s=e.b1,l=e.b2,u=0,c=1<<8-n.SIGBITS,p=void 0,f=void 0,h=void 0;p=f=h=0;for(var d=r;d<=o;d++)for(var v=a;v<=i;v++)for(var m=s;m<=l;m++){var y=t[n.getColorIndex(d,v,m)];u+=y,p+=y*(d+.5)*c,f+=y*(v+.5)*c,h+=y*(m+.5)*c}this._avg=u?[~~(p/u),~~(f/u),~~(h/u)]:[~~(c*(r+o+1)/2),~~(c*(a+i+1)/2),~~(c*(s+l+1)/2)]}return this._avg},t.prototype.contains=function(t){var e=t[0],r=t[1],o=t[2],a=this.dimension,i=a.r1,s=a.r2,l=a.g1,u=a.g2,c=a.b1,p=a.b2;return e>>=n.RSHIFT,r>>=n.RSHIFT,o>>=n.RSHIFT,e>=i&&e<=s&&r>=l&&r<=u&&o>=c&&o<=p},t.prototype.split=function(){var t=this.hist,e=this.dimension,r=e.r1,o=e.r2,a=e.g1,i=e.g2,s=e.b1,l=e.b2,u=this.count();if(!u)return[];if(1===u)return[this.clone()];var c,p,f=o-r+1,h=i-a+1,d=l-s+1,v=Math.max(f,h,d),m=null;c=p=0;var y=null;if(v===f){y="r",m=new Uint32Array(o+1);for(var g=r;g<=o;g++){c=0;for(var b=a;b<=i;b++)for(var x=s;x<=l;x++){c+=t[n.getColorIndex(g,b,x)]}p+=c,m[g]=p}}else if(v===h){y="g",m=new Uint32Array(i+1);for(b=a;b<=i;b++){c=0;for(g=r;g<=o;g++)for(x=s;x<=l;x++){c+=t[n.getColorIndex(g,b,x)]}p+=c,m[b]=p}}else{y="b",m=new Uint32Array(l+1);for(x=s;x<=l;x++){c=0;for(g=r;g<=o;g++)for(b=a;b<=i;b++){c+=t[n.getColorIndex(g,b,x)]}p+=c,m[x]=p}}for(var _=-1,w=new Uint32Array(m.length),k=0;k<m.length;k++){var j=m[k];_<0&&j>p/2&&(_=k),w[k]=p-j}var S=this;return function(t){var e=t+"1",r=t+"2",n=S.dimension[e],o=S.dimension[r],a=S.clone(),i=S.clone(),s=_-n,l=o-_;for(s<=l?(o=Math.min(o-1,~~(_+l/2)),o=Math.max(0,o)):(o=Math.max(n,~~(_-1-s/2)),o=Math.min(S.dimension[r],o));!m[o];)o++;for(var u=w[o];!u&&m[o-1];)u=w[--o];return a.dimension[r]=o,i.dimension[e]=o+1,[a,i]}(y)},t}();e.default=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this._comparator=t,this.contents=[],this._sorted=!1}return t.prototype._sort=function(){this._sorted||(this.contents.sort(this._comparator),this._sorted=!0)},t.prototype.push=function(t){this.contents.push(t),this._sorted=!1},t.prototype.peek=function(t){return this._sort(),t="number"==typeof t?t:this.contents.length-1,this.contents[t]},t.prototype.pop=function(){return this._sort(),this.contents.pop()},t.prototype.size=function(){return this.contents.length},t.prototype.map=function(t){return this._sort(),this.contents.map(t)},t}();e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(202);e.Default=n.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(28),o=r(17),a=r(70),i={targetDarkLuma:.26,maxDarkLuma:.45,minLightLuma:.55,targetLightLuma:.74,minNormalLuma:.3,targetNormalLuma:.5,maxNormalLuma:.7,targetMutesSaturation:.3,maxMutesSaturation:.4,targetVibrantSaturation:1,minVibrantSaturation:.35,weightSaturation:3,weightLuma:6.5,weightPopulation:.5};function s(t,e,r,n,o,a,i,s,l,u){var c=null,p=0;return e.forEach((function(e){var f=e.getHsl(),h=f[1],d=f[2];if(h>=s&&h<=l&&d>=o&&d<=a&&!function(t,e){return t.Vibrant===e||t.DarkVibrant===e||t.LightVibrant===e||t.Muted===e||t.DarkMuted===e||t.LightMuted===e}(t,e)){var v=function(t,e,r,n,o,a,i){function s(t,e){return 1-Math.abs(t-e)}return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=0,n=0,o=0;o<t.length;o+=2){var a=t[o],i=t[o+1];r+=a*i,n+=i}return r/n}(s(t,e),i.weightSaturation,s(r,n),i.weightLuma,o/a,i.weightPopulation)}(h,i,d,n,e.getPopulation(),r,u);(null===c||v>p)&&(c=e,p=v)}})),c}e.default=function(t,e){e=a({},e,i);var r=function(t){var e=0;return t.forEach((function(t){e=Math.max(e,t.getPopulation())})),e}(t),l=function(t,e,r){var n={};return n.Vibrant=s(n,t,e,r.targetNormalLuma,r.minNormalLuma,r.maxNormalLuma,r.targetVibrantSaturation,r.minVibrantSaturation,1,r),n.LightVibrant=s(n,t,e,r.targetLightLuma,r.minLightLuma,1,r.targetVibrantSaturation,r.minVibrantSaturation,1,r),n.DarkVibrant=s(n,t,e,r.targetDarkLuma,0,r.maxDarkLuma,r.targetVibrantSaturation,r.minVibrantSaturation,1,r),n.Muted=s(n,t,e,r.targetNormalLuma,r.minNormalLuma,r.maxNormalLuma,r.targetMutesSaturation,0,r.maxMutesSaturation,r),n.LightMuted=s(n,t,e,r.targetLightLuma,r.minLightLuma,1,r.targetMutesSaturation,0,r.maxMutesSaturation,r),n.DarkMuted=s(n,t,e,r.targetDarkLuma,0,r.maxDarkLuma,r.targetMutesSaturation,0,r.maxMutesSaturation,r),n}(t,r,e);return function(t,e,r){if(null===t.Vibrant&&null===t.DarkVibrant&&null===t.LightVibrant){if(null===t.DarkVibrant&&null!==t.DarkMuted){var a=t.DarkMuted.getHsl(),i=a[0],s=a[1],l=a[2];l=r.targetDarkLuma,t.DarkVibrant=new n.Swatch(o.hslToRgb(i,s,l),0)}if(null===t.LightVibrant&&null!==t.LightMuted){var u=t.LightMuted.getHsl();i=u[0],s=u[1],l=u[2];l=r.targetDarkLuma,t.DarkVibrant=new n.Swatch(o.hslToRgb(i,s,l),0)}}if(null===t.Vibrant&&null!==t.DarkVibrant){var c=t.DarkVibrant.getHsl();i=c[0],s=c[1],l=c[2];l=r.targetNormalLuma,t.Vibrant=new n.Swatch(o.hslToRgb(i,s,l),0)}else if(null===t.Vibrant&&null!==t.LightVibrant){var p=t.LightVibrant.getHsl();i=p[0],s=p[1],l=p[2];l=r.targetNormalLuma,t.Vibrant=new n.Swatch(o.hslToRgb(i,s,l),0)}if(null===t.DarkVibrant&&null!==t.Vibrant){var f=t.Vibrant.getHsl();i=f[0],s=f[1],l=f[2];l=r.targetDarkLuma,t.DarkVibrant=new n.Swatch(o.hslToRgb(i,s,l),0)}if(null===t.LightVibrant&&null!==t.Vibrant){var h=t.Vibrant.getHsl();i=h[0],s=h[1],l=h[2];l=r.targetLightLuma,t.LightVibrant=new n.Swatch(o.hslToRgb(i,s,l),0)}if(null===t.Muted&&null!==t.Vibrant){var d=t.Vibrant.getHsl();i=d[0],s=d[1],l=d[2];l=r.targetMutesSaturation,t.Muted=new n.Swatch(o.hslToRgb(i,s,l),0)}if(null===t.DarkMuted&&null!==t.DarkVibrant){var v=t.DarkVibrant.getHsl();i=v[0],s=v[1],l=v[2];l=r.targetMutesSaturation,t.DarkMuted=new n.Swatch(o.hslToRgb(i,s,l),0)}if(null===t.LightMuted&&null!==t.LightVibrant){var m=t.LightVibrant.getHsl();i=m[0],s=m[1],l=m[2];l=r.targetMutesSaturation,t.LightMuted=new n.Swatch(o.hslToRgb(i,s,l),0)}}(l,0,e),l}},function(t,e,r){var n=r(41),o=r(204),a=r(206);t.exports=function(t,e){return a(o(t,e,n),t+"")}},function(t,e,r){var n=r(205),o=Math.max;t.exports=function(t,e,r){return e=o(void 0===e?t.length-1:e,0),function(){for(var a=arguments,i=-1,s=o(a.length-e,0),l=Array(s);++i<s;)l[i]=a[e+i];i=-1;for(var u=Array(e+1);++i<e;)u[i]=a[i];return u[e]=r(l),n(t,this,u)}}},function(t,e){t.exports=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}},function(t,e,r){var n=r(207),o=r(209)(n);t.exports=o},function(t,e,r){var n=r(208),o=r(67),a=r(41),i=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:n(e),writable:!0})}:a;t.exports=i},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e){var r=800,n=16,o=Date.now;t.exports=function(t){var e=0,a=0;return function(){var i=o(),s=n-(i-a);if(a=i,s>0){if(++e>=r)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,r){var n=r(15),o=r(19),a=r(30),i=r(6);t.exports=function(t,e,r){if(!i(r))return!1;var s=typeof e;return!!("number"==s?o(r)&&a(e,r.length):"string"==s&&e in r)&&n(r[e],t)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(212);e.Default=n.default,e.combineFilters=function(t){return Array.isArray(t)&&0!==t.length?function(e,r,n,o){if(0===o)return!1;for(var a=0;a<t.length;a++)if(!t[a](e,r,n,o))return!1;return!0}:null}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r,n){return n>=125&&!(t>250&&e>250&&r>250)}},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var a=r(214),i=r(215);var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype._initCanvas=function(){var t=this.image,e=this._canvas=document.createElement("canvas"),r=this._context=e.getContext("2d");e.className="vibrant-canvas",e.style.display="none",this._width=e.width=t.width,this._height=e.height=t.height,r.drawImage(t,0,0),document.body.appendChild(e)},e.prototype.load=function(t){var e,r,n,o,a,s,l=this,u=null,c=null;if("string"==typeof t)u=document.createElement("img"),a=t,null===(s=i.parse(a)).protocol&&null===s.host&&null===s.port||(e=window.location.href,r=t,n=i.parse(e),o=i.parse(r),n.protocol===o.protocol&&n.hostname===o.hostname&&n.port===o.port)||(u.crossOrigin="anonymous"),c=u.src=t;else{if(!(t instanceof HTMLImageElement))return Promise.reject(new Error("Cannot load buffer as an image in browser"));u=t,c=t.src}return this.image=u,new Promise((function(t,e){var r=function(){l._initCanvas(),t(l)};u.complete?r():(u.onload=r,u.onerror=function(t){return e(new Error("Fail to load image: "+c))})}))},e.prototype.clear=function(){this._context.clearRect(0,0,this._width,this._height)},e.prototype.update=function(t){this._context.putImageData(t,0,0)},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e.prototype.resize=function(t,e,r){var n=this._canvas,o=this._context,a=this.image;this._width=n.width=t,this._height=n.height=e,o.scale(r,r),o.drawImage(a,0,0)},e.prototype.getPixelCount=function(){return this._width*this._height},e.prototype.getImageData=function(){return this._context.getImageData(0,0,this._width,this._height)},e.prototype.remove=function(){this._canvas&&this._canvas.parentNode&&this._canvas.parentNode.removeChild(this._canvas)},e}(a.ImageBase);e.default=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.scaleDown=function(t){var e=this.getWidth(),r=this.getHeight(),n=1;if(t.maxDimension>0){var o=Math.max(e,r);o>t.maxDimension&&(n=t.maxDimension/o)}else n=1/t.quality;n<1&&this.resize(e*n,r*n,n)},t.prototype.applyFilter=function(t){var e=this.getImageData();if("function"==typeof t)for(var r=e.data,n=r.length/4,o=void 0,a=0;a<n;a++)t(r[(o=4*a)+0],r[o+1],r[o+2],r[o+3])||(r[o+3]=0);return Promise.resolve(e)},t}();e.ImageBase=n},function(t,e,r){"use strict";var n=r(216),o=r(217);function a(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=b,e.resolve=function(t,e){return b(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?b(t,!1,!0).resolveObject(e):e},e.format=function(t){o.isString(t)&&(t=b(t));return t instanceof a?t.format():a.prototype.format.call(t)},e.Url=a;var i=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(u),p=["%","/","?",";","#"].concat(c),f=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},g=r(218);function b(t,e,r){if(t&&o.isObject(t)&&t instanceof a)return t;var n=new a;return n.parse(t,e,r),n}a.prototype.parse=function(t,e,r){if(!o.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var a=t.indexOf("?"),s=-1!==a&&a<t.indexOf("#")?"?":"#",u=t.split(s);u[0]=u[0].replace(/\\/g,"/");var b=t=u.join(s);if(b=b.trim(),!r&&1===t.split("#").length){var x=l.exec(b);if(x)return this.path=b,this.href=b,this.pathname=x[1],x[2]?(this.search=x[2],this.query=e?g.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var _=i.exec(b);if(_){var w=(_=_[0]).toLowerCase();this.protocol=w,b=b.substr(_.length)}if(r||_||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var k="//"===b.substr(0,2);!k||_&&m[_]||(b=b.substr(2),this.slashes=!0)}if(!m[_]&&(k||_&&!y[_])){for(var j,S,O=-1,P=0;P<f.length;P++){-1!==(M=b.indexOf(f[P]))&&(-1===O||M<O)&&(O=M)}-1!==(S=-1===O?b.lastIndexOf("@"):b.lastIndexOf("@",O))&&(j=b.slice(0,S),b=b.slice(S+1),this.auth=decodeURIComponent(j)),O=-1;for(P=0;P<p.length;P++){var M;-1!==(M=b.indexOf(p[P]))&&(-1===O||M<O)&&(O=M)}-1===O&&(O=b.length),this.host=b.slice(0,O),b=b.slice(O),this.parseHost(),this.hostname=this.hostname||"";var T="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!T)for(var A=this.hostname.split(/\./),E=(P=0,A.length);P<E;P++){var C=A[P];if(C&&!C.match(h)){for(var L="",I=0,D=C.length;I<D;I++)C.charCodeAt(I)>127?L+="x":L+=C[I];if(!L.match(h)){var F=A.slice(0,P),R=A.slice(P+1),U=C.match(d);U&&(F.push(U[1]),R.unshift(U[2])),R.length&&(b="/"+R.join(".")+b),this.hostname=F.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),T||(this.hostname=n.toASCII(this.hostname));var q=this.port?":"+this.port:"",N=this.hostname||"";this.host=N+q,this.href+=this.host,T&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!v[w])for(P=0,E=c.length;P<E;P++){var z=c[P];if(-1!==b.indexOf(z)){var H=encodeURIComponent(z);H===z&&(H=escape(z)),b=b.split(z).join(H)}}var V=b.indexOf("#");-1!==V&&(this.hash=b.substr(V),b=b.slice(0,V));var B=b.indexOf("?");if(-1!==B?(this.search=b.substr(B),this.query=b.substr(B+1),e&&(this.query=g.parse(this.query)),b=b.slice(0,B)):e&&(this.search="",this.query={}),b&&(this.pathname=b),y[w]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){q=this.pathname||"";var G=this.search||"";this.path=q+G}return this.href=this.format(),this},a.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",a=!1,i="";this.host?a=t+this.host:this.hostname&&(a=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(i=g.stringify(this.query));var s=this.search||i&&"?"+i||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||y[e])&&!1!==a?(a="//"+(a||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):a||(a=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),e+a+(r=r.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(s=s.replace("#","%23"))+n},a.prototype.resolve=function(t){return this.resolveObject(b(t,!1,!0)).format()},a.prototype.resolveObject=function(t){if(o.isString(t)){var e=new a;e.parse(t,!1,!0),t=e}for(var r=new a,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var l=Object.keys(t),u=0;u<l.length;u++){var c=l[u];"protocol"!==c&&(r[c]=t[c])}return y[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!y[t.protocol]){for(var p=Object.keys(t),f=0;f<p.length;f++){var h=p[f];r[h]=t[h]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||m[t.protocol])r.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),r.pathname=d.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var v=r.pathname||"",g=r.search||"";r.path=v+g}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var b=r.pathname&&"/"===r.pathname.charAt(0),x=t.host||t.pathname&&"/"===t.pathname.charAt(0),_=x||b||r.host&&t.pathname,w=_,k=r.pathname&&r.pathname.split("/")||[],j=(d=t.pathname&&t.pathname.split("/")||[],r.protocol&&!y[r.protocol]);if(j&&(r.hostname="",r.port=null,r.host&&(""===k[0]?k[0]=r.host:k.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),_=_&&(""===d[0]||""===k[0])),x)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,k=d;else if(d.length)k||(k=[]),k.pop(),k=k.concat(d),r.search=t.search,r.query=t.query;else if(!o.isNullOrUndefined(t.search)){if(j)r.hostname=r.host=k.shift(),(T=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=T.shift(),r.host=r.hostname=T.shift());return r.search=t.search,r.query=t.query,o.isNull(r.pathname)&&o.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!k.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var S=k.slice(-1)[0],O=(r.host||t.host||k.length>1)&&("."===S||".."===S)||""===S,P=0,M=k.length;M>=0;M--)"."===(S=k[M])?k.splice(M,1):".."===S?(k.splice(M,1),P++):P&&(k.splice(M,1),P--);if(!_&&!w)for(;P--;P)k.unshift("..");!_||""===k[0]||k[0]&&"/"===k[0].charAt(0)||k.unshift(""),O&&"/"!==k.join("/").substr(-1)&&k.push("");var T,A=""===k[0]||k[0]&&"/"===k[0].charAt(0);j&&(r.hostname=r.host=A?"":k.length?k.shift():"",(T=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=T.shift(),r.host=r.hostname=T.shift()));return(_=_||r.host&&k.length)&&!A&&k.unshift(""),k.length?r.pathname=k.join("/"):(r.pathname=null,r.path=null),o.isNull(r.pathname)&&o.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},a.prototype.parseHost=function(){var t=this.host,e=s.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,r){(function(t,n){var o;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(a){e&&e.nodeType,t&&t.nodeType;var i="object"==typeof n&&n;i.global!==i&&i.window!==i&&i.self;var s,l=2147483647,u=36,c=1,p=26,f=38,h=700,d=72,v=128,m="-",y=/^xn--/,g=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,x={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},_=u-c,w=Math.floor,k=String.fromCharCode;function j(t){throw new RangeError(x[t])}function S(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function O(t,e){var r=t.split("@"),n="";return r.length>1&&(n=r[0]+"@",t=r[1]),n+S((t=t.replace(b,".")).split("."),e).join(".")}function P(t){for(var e,r,n=[],o=0,a=t.length;o<a;)(e=t.charCodeAt(o++))>=55296&&e<=56319&&o<a?56320==(64512&(r=t.charCodeAt(o++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),o--):n.push(e);return n}function M(t){return S(t,(function(t){var e="";return t>65535&&(e+=k((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=k(t)})).join("")}function T(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function A(t,e,r){var n=0;for(t=r?w(t/h):t>>1,t+=w(t/e);t>_*p>>1;n+=u)t=w(t/_);return w(n+(_+1)*t/(t+f))}function E(t){var e,r,n,o,a,i,s,f,h,y,g,b=[],x=t.length,_=0,k=v,S=d;for((r=t.lastIndexOf(m))<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&j("not-basic"),b.push(t.charCodeAt(n));for(o=r>0?r+1:0;o<x;){for(a=_,i=1,s=u;o>=x&&j("invalid-input"),((f=(g=t.charCodeAt(o++))-48<10?g-22:g-65<26?g-65:g-97<26?g-97:u)>=u||f>w((l-_)/i))&&j("overflow"),_+=f*i,!(f<(h=s<=S?c:s>=S+p?p:s-S));s+=u)i>w(l/(y=u-h))&&j("overflow"),i*=y;S=A(_-a,e=b.length+1,0==a),w(_/e)>l-k&&j("overflow"),k+=w(_/e),_%=e,b.splice(_++,0,k)}return M(b)}function C(t){var e,r,n,o,a,i,s,f,h,y,g,b,x,_,S,O=[];for(b=(t=P(t)).length,e=v,r=0,a=d,i=0;i<b;++i)(g=t[i])<128&&O.push(k(g));for(n=o=O.length,o&&O.push(m);n<b;){for(s=l,i=0;i<b;++i)(g=t[i])>=e&&g<s&&(s=g);for(s-e>w((l-r)/(x=n+1))&&j("overflow"),r+=(s-e)*x,e=s,i=0;i<b;++i)if((g=t[i])<e&&++r>l&&j("overflow"),g==e){for(f=r,h=u;!(f<(y=h<=a?c:h>=a+p?p:h-a));h+=u)S=f-y,_=u-y,O.push(k(T(y+S%_,0))),f=w(S/_);O.push(k(T(f,0))),a=A(r,x,n==o),r=0,++n}++r,++e}return O.join("")}s={version:"1.4.1",ucs2:{decode:P,encode:M},decode:E,encode:C,toASCII:function(t){return O(t,(function(t){return g.test(t)?"xn--"+C(t):t}))},toUnicode:function(t){return O(t,(function(t){return y.test(t)?E(t.slice(4).toLowerCase()):t}))}},void 0===(o=function(){return s}.call(e,r,e,t))||(t.exports=o)}()}).call(this,r(18)(t),r(27))},function(t,e,r){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,r){"use strict";e.decode=e.parse=r(219),e.encode=e.stringify=r(220)},function(t,e,r){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,r,a){e=e||"&",r=r||"=";var i={};if("string"!=typeof t||0===t.length)return i;var s=/\+/g;t=t.split(e);var l=1e3;a&&"number"==typeof a.maxKeys&&(l=a.maxKeys);var u=t.length;l>0&&u>l&&(u=l);for(var c=0;c<u;++c){var p,f,h,d,v=t[c].replace(s,"%20"),m=v.indexOf(r);m>=0?(p=v.substr(0,m),f=v.substr(m+1)):(p=v,f=""),h=decodeURIComponent(p),d=decodeURIComponent(f),n(i,h)?o(i[h])?i[h].push(d):i[h]=[i[h],d]:i[h]=d}return i};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,r){"use strict";var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,r,s){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?a(i(t),(function(i){var s=encodeURIComponent(n(i))+r;return o(t[i])?a(t[i],(function(t){return s+encodeURIComponent(n(t))})).join(e):s+encodeURIComponent(n(t[i]))})).join(e):s?encodeURIComponent(n(s))+r+encodeURIComponent(n(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function a(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var i=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},function(t,e){t.exports=function(t,e){return t.toString().slice(0,4)}},function(t,e,r){var n=r(223);"string"==typeof n&&(n=[[t.i,n,""]]);var o={insert:"head",singleton:!1};r(11)(n,o);n.locals&&(t.exports=n.locals)},function(t,e,r){(t.exports=r(10)(!1)).push([t.i,".flip-container{perspective:1000px;position:absolute;z-index:2;transition:transform .6s}.flip-container.flip .flipper{transform:rotateY(180deg)}.flip-container .front,.flip-container .back{width:100%;height:100%}.flip-container .flipper{width:100%;height:100%;transition:.6s;transform-style:preserve-3d;position:relative}.flip-container .front,.flip-container .back{backface-visibility:hidden;position:absolute;top:0;left:0}.flip-container .front{z-index:2;transform:rotateY(0deg)}.flip-container .back{transform:rotateY(180deg);top:calc( -537px / 2 + 50%);left:calc( -537px / 2 + 50%);width:537px;height:537px;background:black;box-shadow:0 2px 40px rgba(0,0,0,0.5)}.flip-container .back .skrim{opacity:.73;position:absolute;top:0;bottom:0;left:0;right:0}.flip-container .back img{user-drag:none;user-select:none}.flip-container .back .content{text-align:center;width:100%;height:100%;position:absolute;top:0}.flip-container .back .content .band-name{font-size:23px;display:block;margin-top:53px}.flip-container .back .content .album-name{font-size:31px;display:block;margin-top:4px;margin-bottom:30px;margin-left:auto;margin-right:auto;width:514px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.flip-container .back .content .track-list{font-size:21px;width:462px;height:318px;margin-left:38px;text-align:left;overflow-y:scroll}.flip-container .back .content .track{height:30px;line-height:30px}.flip-container .back .content .track.active,.flip-container .back .content .track:hover{background:rgba(0,0,0,0.5);border-radius:2px}.flip-container .back .content .number{margin-left:24px}.flip-container .back .content .title{display:inline-block;margin-left:16px;width:312px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;vertical-align:bottom}.flip-container .back .content .length{float:right;margin-right:27px}.flip-container .back .content .year{font-size:41px;position:absolute;left:31px;bottom:21px}.flip-container .back .content .copyright{font-size:15px;position:absolute;right:20px;bottom:21px;width:334px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-align:right}\n",""])},function(t,e,r){var n=r(225);"string"==typeof n&&(n=[[t.i,n,""]]);var o={insert:"head",singleton:!1};r(11)(n,o);n.locals&&(t.exports=n.locals)},function(t,e,r){(t.exports=r(10)(!1)).push([t.i,"#player{position:fixed;bottom:-85px;left:0;background-color:#190511;width:602px;height:86px;border-top-right-radius:11px;z-index:3;box-shadow:0 2px 40px rgba(0,0,0,0.5);transition:transform .3s;transform:translateY(0px)}#player.active{transform:translateY(-84px)}#player.expanded{transform:translateY(-400px)}#player .album-art{width:140px;height:140px;border-radius:50%;position:absolute;top:-70px;left:32px;animation:spinner 16s linear infinite}#player .display{color:white;font-family:'CF Dots 521', sans-serif;font-size:25px;width:400px;margin-left:190px;white-space:nowrap;line-height:74px;overflow:hidden;margin-bottom:12px;height:74px}#player .display .track-info{float:left;padding:0 120px}#player .display .track-info:first-child{animation:carousel1 15s linear infinite}#player .display .track-info:nth-child(2){animation:carousel2 15s linear infinite;margin-top:-74px}#player .content{width:100%;height:400px;background-color:#190511;text-align:center}#player .content .band-name{font-size:23px;display:block;margin-top:53px}#player .content .album-name{font-size:31px;display:block;margin-top:4px;margin-bottom:30px;margin-left:auto;margin-right:auto;width:514px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}#player .content .track-list{font-size:21px;width:100%;height:318px;padding:20px;box-sizing:border-box;text-align:left;overflow-y:scroll}#player .content .track{height:30px;line-height:30px}#player .content .track.active{color:black;background:white;border-radius:2px}#player .content .number{margin-left:24px}#player .content .title{display:inline-block;margin-left:16px;width:312px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;vertical-align:bottom}#player .content .length{float:right;margin-right:27px}#player .spotify-player{width:100%;height:400px;background-color:black}@keyframes spinner{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}@keyframes carousel1{from{transform:translateX(100%)}to{transform:translateX(0)}}@keyframes carousel2{from{transform:translateX(0)}to{transform:translateX(-100%)}}\n",""])},function(t,e,r){var n=r(227);"string"==typeof n&&(n=[[t.i,n,""]]);var o={insert:"head",singleton:!1};r(11)(n,o);n.locals&&(t.exports=n.locals)},function(t,e,r){e=t.exports=r(10)(!1);var n=r(228),o=n(r(229)),a=n(r(230)),i=n(r(231)),s=n(r(232)),l=n(r(233)),u=n(r(234));e.push([t.i,"html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}table{border-collapse:collapse;border-spacing:0}@font-face{font-family:'Noir';font-style:normal;font-weight:normal;src:url("+o+') format("woff"),url('+a+") format(\"woff2\")}@font-face{font-family:'Noir';font-style:normal;font-weight:500;src:url("+i+') format("woff"),url('+s+") format(\"woff2\")}@font-face{font-family:'CF Dots 521';font-style:normal;font-weight:normal;src:url("+l+') format("woff"),url('+u+") format(\"woff2\")}html{min-height:100%;min-width:100%}body{min-height:100%;min-width:100%;background:linear-gradient(135deg, #730025, #4e014d);background-color:#730025;color:white;font-family:'Roboto', helvetica, sans-serif}img{width:100%;height:100%}.button{padding:16px;color:black;background:white;border-radius:11px;width:60px;text-align:center}.button:hover{background:#e6e6e6;box-shadow:0 0 4px 1px rgba(0,0,0,0.7);cursor:pointer}#login-button{margin:16px auto 16px auto}#logout-button{margin:16px 30px 16px auto;color:white;background:rgba(0,0,0,0.25)}\n",""])},function(t,e,r){"use strict";t.exports=function(t,e){return"string"!=typeof(t=t.__esModule?t.default:t)?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)||e?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},function(t,e,r){t.exports=r.p+"fonts/Noir_Regular.woff"},function(t,e,r){t.exports=r.p+"fonts/Noir_Regular.woff2"},function(t,e,r){t.exports=r.p+"fonts/Noir_Medium.woff"},function(t,e,r){t.exports=r.p+"fonts/Noir_Medium.woff2"},function(t,e,r){t.exports=r.p+"fonts/CFDots-Regular.woff"},function(t,e,r){t.exports=r.p+"fonts/CFDots-Regular.woff2"},function(t,e,r){"use strict";r.r(e);r(78);var n=r(3),o=r.n(n);var a=class{constructor(t){this.template=t,this.events={},o()(this)}render(t){return this.template(t)}update(){}},i=r(72),s=r.n(i);Array.prototype.extend=function(t){if(!Array.isArray(t))throw"Cannot extend with non-array";for(let e of t)this.push(e)};var l=class{constructor(){this.api=new s.a,this.updateListeners=new Set,this.playListeners=new Set,this.loadedListeners=new Set,this.loggedOutListeners=new Set,this.albums=[],this.albumsById={},this.recentlyPlayed=JSON.parse(localStorage.getItem("long-play-recent-albums")||"[]"),o()(this)}login(t){return new Promise((e,r)=>{this.api.setAccessToken(t),this.api.getMe().then(t=>{this._downloadLibrary(),e(),this._distribute(this.loadedListeners)}).catch(t=>{this.api.setAccessToken(null),r()})})}_downloadLibrary(){if(this.albums=[],null!==localStorage.getItem("albums")){this.albums=JSON.parse(localStorage.getItem("albums"));for(let t of this.albums)this.albumsById[t.id]=t;this._distribute(this.updateListeners)}else this._downloadAlbums().then(()=>(console.log("loaded new albums"),localStorage.setItem("albums",JSON.stringify(this.albums)),this.api.getMyRecentlyPlayedTracks())).then(t=>{this._distribute(this.updateListeners)}).catch(this._handleError)}_downloadAlbums(t=0){return this.api.getMySavedAlbums({limit:50,offset:t}).then(e=>{this.albums.extend(e.items.map(t=>t.album));for(let t of this.albums)this.albumsById[t.id]=t;if(this.albums.length<e.total)return this._downloadAlbums(t+=50)})}play(t,e=1){this.recentlyPlayed.push(t),this.recentlyPlayed.length>4&&(this.recentlyPlayed=this.recentlyPlayed.slice(-4)),localStorage.setItem("long-play-recent-albums",JSON.stringify(this.recentlyPlayed)),this.api.play({context_uri:t.uri,offset:{position:e-1}}).then(r=>{this._distribute(this.playListeners,t,e)}).catch(t=>{if(404===JSON.parse(t.response).error.status)return this.api.getMyDevices();console.log(t)}).then(r=>{if(r)return r.devices.length>0?this.api.play({context_uri:t.uri,device_id:r.devices[0].id,offset:{position:e-1}}):void console.log("No devices to play on")}).catch(console.log)}isPlaying(){return this._handleApi(this.api.getMyCurrentPlaybackState)}loadAlbum(t){return this._handleApi(this.api.getAlbum,t)}resume(){return this._handleApi(this.api.play)}pause(){return this._handleApi(this.api.pause)}getRecentlyPlayed(){return(t=this.recentlyPlayed).map((e,r)=>t[t.length-1-r]);var t}getAlbum(t){return this.albumsById[t]}getAlbums(){return this.albums}getAlbumsGrouped(t="alphabet"){let e={};for(let r of this.getAlbums()){let n;e[n="alphabet"===t?r.name[0].toUpperCase():"year"===t?0|parseInt(r.release_date.toString().slice(0,4)):r.name[0].toUpperCase()]?e[n].push(r):e[n]=[r]}return e}getAlbumsGroupedList(t="alphabet"){return Object.entries(this.getAlbumsGrouped(t)).sort((t,e)=>t[0]<e[0]?-1:t[0]>e[0]?1:0)}_handleApi(t,...e){return new Promise((r,n)=>{t(...e).then(t=>{r(t)}).catch(t=>{401===JSON.parse(t.reponse).error.status?this._distribute(this.loggedOutListeners):n(t)})})}_handleError(t){401===JSON.parse(t.reponse).status?this._distribute(this.loggedOutListeners):console.log(t)}_distribute(t,...e){t.forEach(t=>t(...e))}onUpdate(t){this.updateListeners.add(t)}onPlay(t){this.playListeners.add(t)}onLoaded(t){this.loadedListeners.add(t)}onLoggedOut(t){this.loggedOutListeners.add(t)}};function u(t){var e=document.createElement("template");return t=t.trim(),e.innerHTML=t,e.content.firstChild}function c(t){for(var e=0;null!=(t=t.previousElementSibling);)++e;return e}var p=r(73),f=r.n(p);r(94);var h=class extends a{constructor(t,e,r){super(f.a),o()(this),this.root=t,this.flipper=e,this.spotify=r,this.active=localStorage.getItem("long-play-deck-menu")||"recent",this.spotify.onPlay(this.update),this.update()}update(){let t=this.spotify.getRecentlyPlayed();this.root.innerHTML=this.render({albums:t,active:this.active}),this.root.querySelectorAll(".nav .tab").forEach(t=>t.addEventListener("click",this.navSelect)),this.root.querySelectorAll(".album").forEach(t=>t.addEventListener("click",this.flip))}flip(t){this.flipper.flip(t.target,this.spotify.getRecentlyPlayed()[c(t.target.parentElement)]),t.stopPropagation()}addNewRecent(t){let e=this.root.querySelector(".albums");e.insertBefore(u(`<li class="album"><img src="${t.images[0].url}"></li>`),e.firstElementChild)}navSelect(t){this.root.querySelector(".nav .active").classList.remove("active"),t.target.classList.add("active"),this.active=t.target.dataset.id,localStorage.setItem("long-play-deck-menu",this.active)}},d=r(74),v=r.n(d);r(97);var m=class extends a{constructor(t,e,r){super(v.a),this.root=t,this.flipper=e,this.spotify=r,this.albumsById={},this.active=localStorage.getItem("long-play-album-menu")||"alphabet",this.update(),this.spotify.onUpdate(this.update)}update(){let t=this.spotify.getAlbumsGroupedList(this.active);this.root.innerHTML=this.render({albums:t,active:this.active}),this.root.querySelectorAll(".nav .tab").forEach(t=>t.addEventListener("click",this.navSelect)),this.root.querySelectorAll(".stack").forEach(t=>t.addEventListener("click",this.flip)),this.root.querySelectorAll(".stack").forEach(t=>t.addEventListener("wheel",this.scrollStack))}navSelect(t){this.root.querySelector(".nav .active").classList.remove("active"),t.target.classList.add("active"),this.active=t.target.dataset.id,localStorage.setItem("long-play-album-menu",this.active),this.update()}flip(t){this.flipper.flip(t.target,this.spotify.getAlbum(t.target.id)),t.stopPropagation()}scrollStack(t){let e=t.target.closest(".stack"),r=e.firstElementChild;if(r.childElementCount>1){let n=r.lastElementChild,o=0;n.style.transform&&(o=parseInt(n.style.transform.replace("translateY(","").replace("px)",""))||0);let a=Math.min(255,Math.max(0,o+-t.deltaY));0===a&&t.deltaY>0&&(r.firstElementChild.style.transform="translateY(255px)",r.firstElementChild.style.opacity=0,r.insertBefore(r.firstElementChild,null)),255===a?(r.insertBefore(r.lastElementChild,r.firstElementChild),n.style.transform=null,n.style.opacity=1):(n.style.transform="translateY("+a+"px)",n.style.opacity=Math.max(0,Math.min(1,1-a/255))),t.preventDefault(),this._afterStackScoll(e)}}_afterStackScoll(t){let e=t.dataset.scrollStop;window.clearTimeout(e),t.dataset.scrollStop=setTimeout((function(){let e=t.firstElementChild,r=e.lastElementChild,n=0;r.style.transform&&(n=parseInt(r.style.transform.replace("translateY(","").replace("px)",""))||0),n>150?(r.style.transition="transform .3s, opacity .3s",r.style.transform="translateY(255px)",r.style.opacity=0,r.addEventListener("transitionend",t=>{e.insertBefore(e.lastElementChild,e.firstElementChild),r.style.transition=null,r.style.transform=null,r.style.opacity=1},{once:!0})):(r.style.transition="transform .3s",r.style.transform=null,r.style.opacity=1,r.addEventListener("transitionend",()=>{r.style.transition=null},{once:!0}))}),400)}},y=r(75),g=r(76),b=r.n(g);r(222);var x=class extends a{constructor(t){super(b.a),o()(this),this.spotify=t,this.flippers=[],this.active=null,document.body.addEventListener("click",t=>{t.target.closest(".flipper")||this.close()})}flip(t,e){let r=t.offsetTop,n=t.offsetLeft,o=t.offsetWidth,a=t.offsetHeight,i=t.getBoundingClientRect();a=i.height,o=i.width,r=i.top+window.scrollY,n=i.left+window.scrollX;let s=Math.min(Math.max(i.top,(537-a)/2+40),window.innerHeight-(537+a)/2-40)+window.scrollY-r,l=Math.min(Math.max(i.left,(537-o)/2+40),window.innerWidth-(537+o)/2-40)+window.scrollX-n;y.from(t.src).getPalette().then(i=>{let c=u(this.render({albumCover:t.src,coverColor:i.DarkVibrant.getHex(),album:e}));c.style.top=r+"px",c.style.left=n+"px",c.style.width=o+"px",c.style.height=a+"px",document.body.appendChild(c),this.setActive(c,t,e);let p=c.querySelector(".album-cover");p.complete?(t.style.opacity=0,window.requestAnimationFrame(()=>window.requestAnimationFrame(()=>{c.classList.add("flip"),c.style.transform="translate("+l+"px, "+s+"px)"}))):p.addEventListener("load",()=>{t.style.opacity=0,window.requestAnimationFrame(()=>window.requestAnimationFrame(()=>{c.classList.add("flip"),c.style.transform="translate("+l+"px, "+s+"px)"}))})})}setActive(t,e,r){this.active=t,this.flippers.push([t,e]),this.active.querySelectorAll(".track").forEach(t=>t.addEventListener("click",t=>{this.spotify.play(r,c(t.target.closest(".track"))+1),t.stopPropagation()}));for(var n=this.flippers.length-1;n>=0;n--){let[t,e]=this.flippers[n];t!==this.active&&(this.flippers.splice(n,1),this._clearFlipper(e,t))}}close(){for(var t=this.flippers.length-1;t>=0;t--){let[e,r]=this.flippers[t];this.flippers.splice(t,1),this._clearFlipper(r,e)}}_clearFlipper(t,e){e.classList.remove("flip"),e.style.transform=null,e.addEventListener("transitionend",r=>{t.style.opacity=1;try{document.body.removeChild(e)}catch{}})}},_=r(8),w=r.n(_),k=r(77),j=r.n(k);r(224);var S=class extends a{constructor(t,e){super(j.a),this.root=t,this.spotify=e,this.playing=!1,this.root.innerHTML=this.render({playing:this.playing}),e.onPlay(this.play),e.onLoaded(()=>{e.isPlaying().then(t=>{t&&t.is_playing&&this.spotify.loadAlbum(t.item.album.id).then(e=>{this.play(e,t.item.track_number)})})}),this.root.addEventListener("click",this.toggleExpand),document.body.addEventListener("click",t=>{t.target.closest("#player")||this.root.classList.remove("expanded")})}play(t,e=1){this.playing=!0,this.root.classList.add("active"),this.root.innerHTML=this.render({playing:!0,album:t,currentTrackNumber:e,trackInfo:`${w()(t.tracks.items[e].name)} --- ${t.artists[0].name} --- ${w()(t.name)}`,albumCover:t.images[0].url}),this.root.querySelector(".track.active").scrollIntoView({behavior:"smooth"}),this.root.querySelector(".album-art").addEventListener("click",t=>{this.playing?this.pause():this.resume(),t.stopPropagation()}),this.toggleExpand()}resume(){this.spotify.resume().then(()=>{this.root.querySelector(".album-art").style.animationPlayState="running",this.root.querySelectorAll(".track-info").forEach(t=>t.style.animationPlayState="running"),this.playing=!0})}pause(){this.spotify.pause().then(()=>{this.root.querySelector(".album-art").style.animationPlayState="paused",this.root.querySelectorAll(".track-info").forEach(t=>t.style.animationPlayState="paused"),this.playing=!1})}toggleExpand(){this.root.classList.toggle("expanded")}};r(226);new class extends a{constructor(){super(),this.spotify=new l,this.player={},this.stateKey="longplay-spotify-state",this.accessTokenKey="longplay-access-token",this.loggedIn=!1,this.flipper=new x(this.spotify),this.deck=new h(document.querySelector("#deck"),this.flipper,this.spotify),this.albums=new m(document.querySelector("#albums"),this.flipper,this.spotify),this.player=new S(document.querySelector("#player"),this.spotify),document.getElementById("login-button").addEventListener("click",this.login),document.getElementById("logout-button").addEventListener("click",this.logout),this.checkLogin()}update(){}showLogin(){this.loggedIn=!1,document.getElementById("login-button").style.display="block",document.getElementById("logout-button").style.display="none"}removeLogin(){this.loggedIn=!0,document.getElementById("login-button").style.display="none",document.getElementById("logout-button").style.display="block"}checkLogin(){let t=localStorage.getItem(this.accessTokenKey);if(t)this.spotify.login(t).then(()=>{this.removeLogin()}).catch(t=>{this.showLogin(),localStorage.removeItem(this.accessTokenKey),localStorage.removeItem(this.stateKey),this.checkLogin()});else{let e=function(){var t,e={},r=/([^&;=]+)=?([^&;]*)/g,n=window.location.hash.substring(1);for(;t=r.exec(n);)e[t[1]]=decodeURIComponent(t[2]);return e}();t=e.access_token;let r=e.state,n=localStorage.getItem(this.stateKey);window.history.pushState({},"",window.location.href.split("#")[0]),!t||null!=r&&r===n?(localStorage.removeItem(this.stateKey),t?(this.removeLogin(),this.accessToken=t,localStorage.setItem(this.accessTokenKey,t),this.checkLogin()):this.showLogin()):this.showLogin()}}login(){var t=window.location.href.split("#")[0];console.log(t);var e=function(t){for(var e="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<t;n++)e+=r.charAt(Math.floor(Math.random()*r.length));return e}(16);localStorage.setItem(this.stateKey,e);var r="https://accounts.spotify.com/authorize";r+="?response_type=token",r+="&client_id="+encodeURIComponent("fae9db52f63e4dcbae74a6f6dea3dc5e"),r+="&scope="+encodeURIComponent("user-library-read user-read-recently-played user-modify-playback-state user-read-currently-playing user-read-playback-state"),r+="&redirect_uri="+encodeURIComponent(t),r+="&state="+encodeURIComponent(e),console.log(r),window.location=r}logout(){localStorage.removeItem(this.accessTokenKey),window.location.reload()}}}]);